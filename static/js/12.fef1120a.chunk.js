(this.webpackJsonpsduoj=this.webpackJsonpsduoj||[]).push([[12],{1022:function(e,t,a){"use strict";var n=a(31),o=a(88),c=a(984),r=a(1006),i=a(974),l=a(62),s=a(1114),u=a(983),d=a(0),m=a(99),b=a(76),f=a(421),p=a(41),j=a(309),v=a(66),O=a(1376),g=a(6);t.a=Object(b.b)((function(e){var t,a=e.UserReducer,o=e.TableReduce;return{roles:null===(t=a.userInfo)||void 0===t?void 0:t.roles,tableData:Object(n.a)({},o.tableData)}}),(function(e){return{setTableInfo:function(t,a){return e({type:"setTableInfo",name:t,data:a})},setDataSource:function(t,a){return e({type:"setDataSource",data:t,name:a,add:!1})}}}))(Object(f.a)()(Object(p.e)((function(e){var t,a,b=Object(d.useState)(0),f=Object(o.a)(b,2),p=f[0],h=f[1],y=Object(d.useState)(),x=Object(o.a)(y,2),C=x[0],S=x[1],w=Object(d.useState)(!0),N=Object(o.a)(w,2),E=N[0],P=N[1],z=Object(d.useState)(1),k=Object(o.a)(z,2),I=k[0],F=k[1],T=Object(d.useState)(Object(v.a)(e.defaultPageSize,m.h)),V=Object(o.a)(T,2),L=V[0],D=V[1],K=Object(d.useState)(),R=Object(o.a)(K,2),M=R[0],B=R[1],J=Object(d.useState)(0),A=Object(o.a)(J,2),G=A[0],q=A[1],U=function(t){S(t),void 0!==e.setDataSource&&void 0!==e.name&&e.setDataSource(t,e.name)},W=function(t,a,o,c){var r,i,l,s,u,d,m,b,f,p=null===(r=e.tableData[e.name])||void 0===r?void 0:r.tableInfo;void 0!==p&&(void 0===c&&void 0!==p.moreProps&&H.setFieldsValue(p.moreProps),t=null!==(d=t)&&void 0!==d?d:p.pageNow,a=null!==(m=a)&&void 0!==m?m:p.pageSize,o=null!==(b=o)&&void 0!==b?b:p.searchKey,c=null!==(f=c)&&void 0!==f?f:p.moreProps);var j=null!==(i=t)&&void 0!==i?i:I,v=null!==(l=a)&&void 0!==l?l:L,O=null!==(s=o)&&void 0!==s?s:M,g=null!==(u=c)&&void 0!==u?u:H.getFieldsValue();F(j),D(v),B(O),P(!0),e.API(Object(n.a)({pageNow:j,pageSize:v,searchKey:O},g)).then((function(t){null===t.rows&&(t.rows=[]),void 0!==e.APIRowsTransForm?U(e.APIRowsTransForm(t.rows)):U(t.rows),void 0!==t.totalNum&&"0"!==t.totalNum?(h(t.totalNum),e.name&&e.setTableInfo(e.name,{total:t.totalNum,pageNow:j,pageSize:v,searchKey:O,moreProps:g})):(h(v*t.totalPage),e.name&&e.setTableInfo(e.name,{total:v*t.totalPage,pageNow:j,pageSize:v,searchKey:O,moreProps:g})),P(!1)}))};Object(d.useEffect)((function(){H.setFieldsValue(e.initRequestProps),W()}),[e.name]);var Q=Object(O.a)(),H=Object(o.a)(Q,1)[0],_=function(){var e=H.getFieldsValue();"{}"!==JSON.stringify(e)&&W(1,L,void 0,e)},X=function(){var t,a=H.getFieldsValue();H.resetFields();var n=null===(t=e.tableData[e.name])||void 0===t?void 0:t.tableInfo;e.name&&e.setTableInfo(e.name,{total:n.total,pageNow:n.pageNow,pageSize:n.pageSize,searchKey:n.searchKey,moreProps:void 0});var o=H.getFieldsValue();JSON.stringify(a)!==JSON.stringify(o)&&W(1,L,void 0,void 0)};return Object(d.useEffect)((function(){var t,a=null===(t=e.tableData[e.name])||void 0===t?void 0:t.tableVersion;if(void 0!==a&&G!==a)if(a<0){var n;q(-a),S(null===(n=e.tableData[e.name])||void 0===n?void 0:n.dataSource)}else{q(a);var o=H.getFieldsValue();W(I,L,M,o)}}),[e.tableData,G]),Object(g.jsxs)(g.Fragment,{children:[e.useList&&Object(g.jsx)(c.a,{title:e.title,bordered:!0,size:"default",className:null!==(t=e.cardProps)&&void 0!==t?t:"zeroBodyPaddingLeft",extra:(!0===e.search||void 0!==e.getForm)&&Object(g.jsxs)(g.Fragment,{children:[!0===e.search&&Object(g.jsx)(j.a,{placeholder:e.t("searchUser"),onSearch:function(e){B(e),F(1);var t=H.getFieldsValue();W(1,L,e,t)},enterButton:!0,style:{width:300}},"search"),void 0!==e.getForm&&Object(g.jsxs)(r.a,{form:H,children:[e.getForm(_),e.useFormBtn&&Object(g.jsxs)(i.b,{style:{marginLeft:"30px"},size:20,children:[Object(g.jsx)(l.a,{type:"primary",onClick:_,children:"\u7b5b\u9009"}),Object(g.jsx)(l.a,{htmlType:"button",onClick:X,children:"\u91cd\u7f6e"})]})]})]}),children:Object(g.jsx)(s.b,{grid:e.grid,itemLayout:"vertical",loading:E,size:e.size,dataSource:C,renderItem:e.renderItem,pagination:{onChange:function(e,t){W(e,t)},current:I,pageSize:L,total:p,size:"small",hideOnSinglePage:!0,showQuickJumper:!0,showLessItems:!0,showSizeChanger:Object(v.a)(e.showSizeChanger,!0),pageSizeOptions:["5","15","20","50","80"]}})}),!e.useList&&Object(g.jsx)(c.a,{bordered:!1,size:"small",extra:(!0===e.search||void 0!==e.getForm)&&Object(g.jsxs)(g.Fragment,{children:[!0===e.search&&Object(g.jsx)(j.a,{placeholder:"\u641c\u7d22",onSearch:function(e){B(e),F(1),W(1,L,e)},enterButton:!0,style:{width:300}},"search"),void 0!==e.getForm&&Object(g.jsxs)(r.a,{form:H,children:[e.getForm(_),Object(g.jsxs)(i.b,{style:{marginLeft:"30px"},size:20,children:[Object(g.jsx)(l.a,{type:"primary",onClick:_,children:e.t("filtering")}),Object(g.jsx)(l.a,{htmlType:"button",onClick:X,children:e.t("Reset")})]})]})]}),children:Object(g.jsx)(u.a,{rowKey:e.rowKey,loading:E,size:e.size,columns:e.columns,rowSelection:e.rowSelection,dataSource:C,pagination:null!==(a=e.pagination)&&void 0!==a?a:{onChange:function(e,t){W(e,t)},current:I,pageSize:L,total:p,hideOnSinglePage:!1,showQuickJumper:!0,showLessItems:!0,showSizeChanger:Object(v.a)(e.showSizeChanger,!0),pageSizeOptions:["5","15","20","50","80"]}})})]})}))))},1091:function(e,t,a){"use strict";var n=a(4),o=a(12),c=a(194),r=a(2),i=a.n(r),l=a(78),s=a(113),u=a(0),d=a(39),m=a(975),b=a(25),f=a(62),p=a(148),j=a(261),v=a(77),O=a(86),g=a(260);function h(e){var t=e.prefixCls,a=e.okButtonProps,o=e.cancelButtonProps,c=e.title,r=e.cancelText,i=e.okText,l=e.okType,s=e.icon,m=e.showCancel,b=void 0===m||m,h=e.close,y=e.onConfirm,x=e.onCancel,C=u.useContext(d.b).getPrefixCls;return u.createElement(v.a,{componentName:"Popconfirm",defaultLocale:O.a.Popconfirm},(function(e){return u.createElement("div",{className:"".concat(t,"-inner-content")},u.createElement("div",{className:"".concat(t,"-message")},s,u.createElement("div",{className:"".concat(t,"-message-title")},Object(g.a)(c))),u.createElement("div",{className:"".concat(t,"-buttons")},b&&u.createElement(f.a,Object(n.a)({onClick:x,size:"small"},o),r||e.cancelText),u.createElement(j.a,{buttonProps:Object(n.a)(Object(n.a)({size:"small"},Object(p.a)(l)),a),actionFn:y,close:h,prefixCls:C("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},i||e.okText)))}))}var y=void 0,x=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]])}return a},C=u.forwardRef((function(e,t){var a=u.useContext(d.b).getPrefixCls,c=Object(l.a)(!1,{value:e.visible,defaultValue:e.defaultVisible}),r=Object(o.a)(c,2),f=r[0],p=r[1],j=function(t,a){var n;p(t,!0),null===(n=e.onVisibleChange)||void 0===n||n.call(e,t,a)},v=e.prefixCls,O=e.placement,g=e.children,C=e.overlayClassName,S=x(e,["prefixCls","placement","children","overlayClassName"]),w=a("popover",v),N=a("popconfirm",v),E=i()(N,C);return u.createElement(m.a,Object(n.a)({},S,{prefixCls:w,placement:O,onVisibleChange:function(t){e.disabled||j(t)},visible:f,_overlay:u.createElement(h,Object(n.a)({},e,{prefixCls:w,close:function(e){j(!1,e)},onConfirm:function(t){var a;return null===(a=e.onConfirm)||void 0===a?void 0:a.call(y,t)},onCancel:function(t){var a;j(!1,t),null===(a=e.onCancel)||void 0===a||a.call(y,t)}})),overlayClassName:E,ref:t}),Object(b.a)(g,{onKeyDown:function(e){var t,a;u.isValidElement(g)&&(null===(a=null===g||void 0===g?void 0:(t=g.props).onKeyDown)||void 0===a||a.call(t,e)),function(e){e.keyCode===s.a.ESC&&f&&j(!1,e)}(e)}}))}));C.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:u.createElement(c.a,null),disabled:!1};t.a=C},1114:function(e,t,a){"use strict";a.d(t,"a",(function(){return N}));var n=a(23),o=a(4),c=a(5),r=a(12),i=a(18),l=a(2),s=a.n(l),u=a(0),d=a.n(u),m=a(39),b=a(192),f=a(971),p=a(144),j=a(314),v=a(250),O=a(112),g=a(453),h=a(25),y=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]])}return a},x=function(e,t){var a=e.prefixCls,n=e.children,r=e.actions,i=e.extra,l=e.className,b=e.colStyle,f=y(e,["prefixCls","children","actions","extra","className","colStyle"]),p=Object(u.useContext)(N),j=p.grid,v=p.itemLayout,O=Object(u.useContext)(m.b).getPrefixCls,x=O("list",a),C=r&&r.length>0&&d.a.createElement("ul",{className:"".concat(x,"-item-action"),key:"actions"},r.map((function(e,t){return d.a.createElement("li",{key:"".concat(x,"-item-action-").concat(t)},e,t!==r.length-1&&d.a.createElement("em",{className:"".concat(x,"-item-action-split")}))}))),S=j?"div":"li",w=d.a.createElement(S,Object(o.a)({},f,j?{}:{ref:t},{className:s()("".concat(x,"-item"),Object(c.a)({},"".concat(x,"-item-no-flex"),!("vertical"===v?i:!function(){var e;return u.Children.forEach(n,(function(t){"string"===typeof t&&(e=!0)})),e&&u.Children.count(n)>1}())),l)}),"vertical"===v&&i?[d.a.createElement("div",{className:"".concat(x,"-item-main"),key:"content"},n,C),d.a.createElement("div",{className:"".concat(x,"-item-extra"),key:"extra"},i)]:[n,C,Object(h.a)(i,{key:"extra"})]);return j?d.a.createElement(g.a,{ref:t,flex:1,style:b},w):w},C=Object(u.forwardRef)(x);C.Meta=function(e){var t=e.prefixCls,a=e.className,n=e.avatar,c=e.title,r=e.description,i=y(e,["prefixCls","className","avatar","title","description"]),l=(0,Object(u.useContext)(m.b).getPrefixCls)("list",t),b=s()("".concat(l,"-item-meta"),a),f=d.a.createElement("div",{className:"".concat(l,"-item-meta-content")},c&&d.a.createElement("h4",{className:"".concat(l,"-item-meta-title")},c),r&&d.a.createElement("div",{className:"".concat(l,"-item-meta-description")},r));return d.a.createElement("div",Object(o.a)({},i,{className:b}),n&&d.a.createElement("div",{className:"".concat(l,"-item-meta-avatar")},n),(c||r)&&f)};var S=C,w=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]])}return a},N=u.createContext({});N.Consumer;function E(e){var t,a=e.pagination,l=void 0!==a&&a,d=e.prefixCls,g=e.bordered,h=void 0!==g&&g,y=e.split,x=void 0===y||y,C=e.className,S=e.children,E=e.itemLayout,P=e.loadMore,z=e.grid,k=e.dataSource,I=void 0===k?[]:k,F=e.size,T=e.header,V=e.footer,L=e.loading,D=void 0!==L&&L,K=e.rowKey,R=e.renderItem,M=e.locale,B=w(e,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),J=l&&"object"===Object(i.a)(l)?l:{},A=u.useState(J.defaultCurrent||1),G=Object(r.a)(A,2),q=G[0],U=G[1],W=u.useState(J.defaultPageSize||10),Q=Object(r.a)(W,2),H=Q[0],_=Q[1],X=u.useContext(m.b),Y=X.getPrefixCls,Z=X.renderEmpty,$=X.direction,ee={},te=function(e){return function(t,a){U(t),_(a),l&&l[e]&&l[e](t,a)}},ae=te("onChange"),ne=te("onShowSizeChange"),oe=Y("list",d),ce=D;"boolean"===typeof ce&&(ce={spinning:ce});var re=ce&&ce.spinning,ie="";switch(F){case"large":ie="lg";break;case"small":ie="sm"}var le=s()(oe,(t={},Object(c.a)(t,"".concat(oe,"-vertical"),"vertical"===E),Object(c.a)(t,"".concat(oe,"-").concat(ie),ie),Object(c.a)(t,"".concat(oe,"-split"),x),Object(c.a)(t,"".concat(oe,"-bordered"),h),Object(c.a)(t,"".concat(oe,"-loading"),re),Object(c.a)(t,"".concat(oe,"-grid"),!!z),Object(c.a)(t,"".concat(oe,"-something-after-last-item"),!!(P||l||V)),Object(c.a)(t,"".concat(oe,"-rtl"),"rtl"===$),t),C),se=Object(o.a)(Object(o.a)(Object(o.a)({},{current:1,total:0}),{total:I.length,current:q,pageSize:H}),l||{}),ue=Math.ceil(se.total/se.pageSize);se.current>ue&&(se.current=ue);var de=l?u.createElement("div",{className:"".concat(oe,"-pagination")},u.createElement(j.a,Object(o.a)({},se,{onChange:ae,onShowSizeChange:ne}))):null,me=Object(n.a)(I);l&&I.length>(se.current-1)*se.pageSize&&(me=Object(n.a)(I).splice((se.current-1)*se.pageSize,se.pageSize));var be=Object.keys(z||{}).some((function(e){return["xs","sm","md","lg","xl","xxl"].includes(e)})),fe=Object(p.a)(be),pe=u.useMemo((function(){for(var e=0;e<O.b.length;e+=1){var t=O.b[e];if(fe[t])return t}}),[fe]),je=u.useMemo((function(){if(z){var e=pe&&z[pe]?z[pe]:z.column;return e?{width:"".concat(100/e,"%"),maxWidth:"".concat(100/e,"%")}:void 0}}),[null===z||void 0===z?void 0:z.column,pe]),ve=re&&u.createElement("div",{style:{minHeight:53}});if(me.length>0){var Oe=me.map((function(e,t){return function(e,t){return R?((a="function"===typeof K?K(e):K?e[K]:e.key)||(a="list-item-".concat(t)),ee[t]=a,R(e,t)):null;var a}(e,t)})),ge=u.Children.map(Oe,(function(e,t){return u.createElement("div",{key:ee[t],style:je},e)}));ve=z?u.createElement(f.a,{gutter:z.gutter},ge):u.createElement("ul",{className:"".concat(oe,"-items")},Oe)}else S||re||(ve=function(e,t){return u.createElement("div",{className:"".concat(e,"-empty-text")},M&&M.emptyText||t("List"))}(oe,Z||b.a));var he=se.position||"bottom",ye=u.useMemo((function(){return{grid:z,itemLayout:E}}),[JSON.stringify(z),E]);return u.createElement(N.Provider,{value:ye},u.createElement("div",Object(o.a)({className:le},B),("top"===he||"both"===he)&&de,T&&u.createElement("div",{className:"".concat(oe,"-header")},T),u.createElement(v.a,Object(o.a)({},ce),ve,S),V&&u.createElement("div",{className:"".concat(oe,"-footer")},V),P||("bottom"===he||"both"===he)&&de))}E.Item=S;t.b=E},1281:function(e,t,a){"use strict";var n=a(31),o=a(88),c=a(421),r=a(62),i=a(120),l=a(978),s=a(985),u=a(307),d=a(0),m=(a(1282),a(6));t.a=Object(c.a)()((function(e){var t=Object(d.useState)(!1),a=Object(o.a)(t,2),c=a[0],b=a[1],f=Object(d.useState)(""),p=Object(o.a)(f,2),j=p[0],v=p[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(r.a,Object(n.a)(Object(n.a)({},e.btnProps),{},{onClick:function(){void 0!==e.beforeCheck?e.beforeCheck().then((function(){b(!0)})).catch((function(){i.b.error("\u8868\u5355\u4e0d\u5b8c\u6574")})):b(!0)},children:e.btnText})),Object(m.jsxs)(l.a,{title:"\u64cd\u4f5c\u786e\u8ba4",visible:c,className:"Reconfirm-Modal",onCancel:function(){b(!1)},footer:[Object(m.jsxs)(r.a,{block:!0,danger:!0,disabled:e.confirm!==j,onClick:function(){void 0!==e.API&&e.API(),v(""),b(!1)},children:[" \u6211\u786e\u5b9a\u8981",e.todo," "]})],children:[Object(m.jsx)(s.a,{message:Object(m.jsxs)("span",{style:{fontWeight:"bold"},children:["\u60a8\u786e\u5b9a\u8981",e.todo,"\u5417\uff1f"]}),type:"warning",showIcon:!0,style:{marginBottom:10}}),Object(m.jsxs)("div",{className:"Reconfirm-Modal-Input",children:["\u8bf7\u8f93\u5165 ",Object(m.jsx)("span",{style:{fontWeight:"bold"},children:e.confirm})," \u8fdb\u884c\u786e\u8ba4\u3002",Object(m.jsx)(u.a,{value:j,onChange:function(e){v(e.target.value)}})]})]})]})}))},1282:function(e,t,a){},1382:function(e,t,a){"use strict";var n=a(41),o=a(1281),c=a(76),r=a(127),i=a(120),l=(a(0),a(99)),s=a(408),u=a(6);t.a=Object(c.b)((function(e){return{}}),(function(e){return{addTableVersion:function(t){return e({type:"addTableVersion",name:t})}}}))(Object(n.e)((function(e){var t=Object(c.d)((function(e){var t,a;return null===(t=e.UserReducer)||void 0===t||null===(a=t.userInfo)||void 0===a?void 0:a.username})),a=Object(s.a)().t;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(o.a,{btnProps:{type:"link"},btnText:a("exit"),confirm:t,API:function(){r.a.quitGroup({groupId:e.groupId}).then((function(){e.history.replace(l.g+"/group"),i.b.success(a("successfulExit")),e.addTableVersion("GroupList")}))},todo:"".concat(a("exitGroup")," ").concat(e.groupName," ")})})})))},1383:function(e,t,a){"use strict";var n=a(88),o=a(0),c=a(76),r=a(41),i=a(1091),l=a(120),s=a(62),u=a(127),d=a(6);t.a=Object(c.b)((function(e){return{}}),(function(e){return{addTableVersion:function(t){return e({type:"addTableVersion",name:t})}}}))(Object(r.e)((function(e){var t=Object(o.useState)(!1),a=Object(n.a)(t,2),c=a[0],r=a[1],m=Object(o.useState)(!1),b=Object(n.a)(m,2),f=b[0],p=b[1];return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(i.a,{title:"\u4f60\u786e\u5b9a\u8981\u7533\u8bf7\u52a0\u5165".concat(e.groupName,"\u5417\uff1f"),visible:c,onConfirm:function(){u.a.joinGroupApply({groupId:e.groupId}).then((function(){r(!1),p(!1),e.addTableVersion("GroupList"),l.b.success("\u7533\u8bf7\u6210\u529f")}))},okButtonProps:{loading:f},onCancel:function(){r(!1)},children:Object(d.jsx)(s.a,{type:"link",onClick:function(){r(!0)},children:"\u52a0\u5165"})})})})))}}]);
//# sourceMappingURL=12.fef1120a.chunk.js.map