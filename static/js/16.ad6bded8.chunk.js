(this.webpackJsonpsduoj=this.webpackJsonpsduoj||[]).push([[16],{1023:function(e,t,a){"use strict";var n=a(27),c=a(66),r=a(991),o=a(313),i=a(981),l=a(64),s=a(1107),u=a(990),d=a(0),m=a(91),b=a(71),j=a(312),O=a(43),f=a(316),p=a(63),h=a(306),v=a(6);t.a=Object(b.b)((function(e){var t,a=e.UserReducer,c=e.TableReduce;return{roles:null===(t=a.userInfo)||void 0===t?void 0:t.roles,tableData:Object(n.a)({},c.tableData)}}),(function(e){return{setTableInfo:function(t,a){return e({type:"setTableInfo",name:t,data:a})},setDataSource:function(t,a){return e({type:"setDataSource",data:t,name:a,add:!1})}}}))(Object(j.a)()(Object(O.e)((function(e){var t,a,b=Object(d.useState)(0),j=Object(c.a)(b,2),O=j[0],g=j[1],x=Object(d.useState)(),y=Object(c.a)(x,2),S=y[0],w=y[1],N=Object(d.useState)(!0),E=Object(c.a)(N,2),C=E[0],z=E[1],P=Object(d.useState)(1),I=Object(c.a)(P,2),k=I[0],F=I[1],D=Object(d.useState)(Object(p.a)(e.defaultPageSize,m.h)),T=Object(c.a)(D,2),A=T[0],L=T[1],K=Object(d.useState)(),R=Object(c.a)(K,2),V=R[0],M=R[1],J=Object(d.useState)(0),B=Object(c.a)(J,2),$=B[0],Y=B[1],H=function(t){w(t),void 0!==e.setDataSource&&void 0!==e.name&&e.setDataSource(t,e.name)},W=function(t,a,c,r){var o,i,l,s,u,d,m,b,j,O=null===(o=e.tableData[e.name])||void 0===o?void 0:o.tableInfo;void 0!==O&&(void 0===r&&void 0!==O.moreProps&&U.setFieldsValue(O.moreProps),t=null!==(d=t)&&void 0!==d?d:O.pageNow,a=null!==(m=a)&&void 0!==m?m:O.pageSize,c=null!==(b=c)&&void 0!==b?b:O.searchKey,r=null!==(j=r)&&void 0!==j?j:O.moreProps);var f=null!==(i=t)&&void 0!==i?i:k,p=null!==(l=a)&&void 0!==l?l:A,h=null!==(s=c)&&void 0!==s?s:V,v=null!==(u=r)&&void 0!==u?u:U.getFieldsValue();F(f),L(p),M(h),z(!0),e.API(Object(n.a)({pageNow:f,pageSize:p,searchKey:h},v)).then((function(t){null===t.rows&&(t.rows=[]),void 0!==e.APIRowsTransForm?H(e.APIRowsTransForm(t.rows)):H(t.rows),void 0!==t.totalNum&&"0"!==t.totalNum?(g(t.totalNum),e.name&&e.setTableInfo(e.name,{total:t.totalNum,pageNow:f,pageSize:p,searchKey:h,moreProps:v})):(g(p*t.totalPage),e.name&&e.setTableInfo(e.name,{total:p*t.totalPage,pageNow:f,pageSize:p,searchKey:h,moreProps:v})),z(!1)}))};Object(d.useEffect)((function(){U.setFieldsValue(e.initRequestProps),W()}),[e.name]);var Q=Object(h.a)(),U=Object(c.a)(Q,1)[0],q=function(){var e=U.getFieldsValue();"{}"!==JSON.stringify(e)&&W(1,A,void 0,e)},X=function(){var t,a=U.getFieldsValue();U.resetFields();var n=null===(t=e.tableData[e.name])||void 0===t?void 0:t.tableInfo;e.name&&e.setTableInfo(e.name,{total:n.total,pageNow:n.pageNow,pageSize:n.pageSize,searchKey:n.searchKey,moreProps:void 0});var c=U.getFieldsValue();JSON.stringify(a)!==JSON.stringify(c)&&W(1,A,void 0,void 0)};return Object(d.useEffect)((function(){var t,a=null===(t=e.tableData[e.name])||void 0===t?void 0:t.tableVersion;if(void 0!==a&&$!==a)if(a<0){var n;Y(-a),w(null===(n=e.tableData[e.name])||void 0===n?void 0:n.dataSource)}else{Y(a);var c=U.getFieldsValue();W(k,A,V,c)}}),[e.tableData,$]),Object(v.jsxs)(v.Fragment,{children:[e.useList&&Object(v.jsx)(r.a,{title:e.title,bordered:!0,size:"default",className:null!==(t=e.cardProps)&&void 0!==t?t:"zeroBodyPaddingLeft",extra:(!0===e.search||void 0!==e.getForm)&&Object(v.jsxs)(v.Fragment,{children:[!0===e.search&&Object(v.jsx)(f.a,{placeholder:e.t("searchUser"),onSearch:function(e){M(e),F(1);var t=U.getFieldsValue();W(1,A,e,t)},enterButton:!0,style:{width:300}},"search"),void 0!==e.getForm&&Object(v.jsxs)(o.a,{form:U,children:[e.getForm(q),e.useFormBtn&&Object(v.jsxs)(i.b,{style:{marginLeft:"30px"},size:20,children:[Object(v.jsx)(l.a,{type:"primary",onClick:q,children:"\u7b5b\u9009"}),Object(v.jsx)(l.a,{htmlType:"button",onClick:X,children:"\u91cd\u7f6e"})]})]})]}),children:Object(v.jsx)(s.b,{grid:e.grid,itemLayout:"vertical",loading:C,size:e.size,dataSource:S,renderItem:e.renderItem,pagination:{onChange:function(e,t){W(e,t)},current:k,pageSize:A,total:O,size:"small",hideOnSinglePage:!0,showQuickJumper:!0,showLessItems:!0,showSizeChanger:Object(p.a)(e.showSizeChanger,!0),pageSizeOptions:["5","15","20","50","80"]}})}),!e.useList&&Object(v.jsx)(r.a,{bordered:!1,size:"small",extra:(!0===e.search||void 0!==e.getForm)&&Object(v.jsxs)(v.Fragment,{children:[!0===e.search&&Object(v.jsx)(f.a,{placeholder:"\u641c\u7d22",onSearch:function(e){M(e),F(1),W(1,A,e)},enterButton:!0,style:{width:300}},"search"),void 0!==e.getForm&&Object(v.jsxs)(o.a,{form:U,children:[e.getForm(q),Object(v.jsxs)(i.b,{style:{marginLeft:"30px"},size:20,children:[Object(v.jsx)(l.a,{type:"primary",onClick:q,children:e.t("filtering")}),Object(v.jsx)(l.a,{htmlType:"button",onClick:X,children:e.t("Reset")})]})]})]}),children:Object(v.jsx)(u.a,{rowKey:e.rowKey,loading:C,size:e.size,columns:e.columns,rowSelection:e.rowSelection,dataSource:S,pagination:null!==(a=e.pagination)&&void 0!==a?a:{onChange:function(e,t){W(e,t)},current:k,pageSize:A,total:O,hideOnSinglePage:!1,showQuickJumper:!0,showLessItems:!0,showSizeChanger:Object(p.a)(e.showSizeChanger,!0),pageSizeOptions:["5","15","20","50","80"]}})})]})}))))},1031:function(e,t,a){"use strict";var n=a(66),c=a(1086),r=a.n(c),o=a(63),i=a(147),l=Object(i.a)().FRONT_SERVER;var s=a(0),u=a(6);t.a=function(e){var t=Object(s.useState)(!1),a=Object(n.a)(t,2),c=a[0],i=a[1],d=Object(s.useState)(!1),m=Object(n.a)(d,2),b=m[0],j=m[1];return Object(s.useEffect)((function(){Object(o.c)(e.text)||c||b===e.text||(i(!0),j(e.text),function(e,t){var a,n,c;(Object(o.c)(e)||Object(o.c)(null===(a=e)||void 0===a?void 0:a.trim()))&&(e=""),e=null===(c=e=null===(n=e)||void 0===n?void 0:n.replaceAll(/`{3}\n([-|0-9a-zA-Z])/g,"```plaintext\n$1"))||void 0===c?void 0:c.replaceAll(/\$\n(.*)\n\$/g,"$ $1 $");var i={mode:"light",cdn:l+"/vditor",emojiPath:l+"/vditor/dist/images/emoji",theme:{path:l+"/vditor/dist/css/content-theme"},hljs:{lineNumber:!1},markdown:{toc:!0,mark:!0,footnotes:!0,autoSpace:!0},math:{inlineDigit:!0,engine:"KaTeX"}};return r.a.preview(document.getElementById(t),e,i)}(e.text,e.id).then((function(e){i(!1)})))}),[e.id,e.text,c]),Object(u.jsx)("div",{id:e.id,style:{overflowY:"hidden"}})}},1107:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n=a(18),c=a(3),r=a(5),o=a(12),i=a(17),l=a(2),s=a.n(l),u=a(0),d=a.n(u),m=a(39),b=a(196),j=a(978),O=a(149),f=a(321),p=a(254),h=a(117),v=a(189),g=a(25),x=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a},y=function(e,t){var a=e.prefixCls,n=e.children,o=e.actions,i=e.extra,l=e.className,b=e.colStyle,j=x(e,["prefixCls","children","actions","extra","className","colStyle"]),O=Object(u.useContext)(E),f=O.grid,p=O.itemLayout,h=Object(u.useContext)(m.b).getPrefixCls,y=h("list",a),S=o&&o.length>0&&d.a.createElement("ul",{className:"".concat(y,"-item-action"),key:"actions"},o.map((function(e,t){return d.a.createElement("li",{key:"".concat(y,"-item-action-").concat(t)},e,t!==o.length-1&&d.a.createElement("em",{className:"".concat(y,"-item-action-split")}))}))),w=f?"div":"li",N=d.a.createElement(w,Object(c.a)({},j,f?{}:{ref:t},{className:s()("".concat(y,"-item"),Object(r.a)({},"".concat(y,"-item-no-flex"),!("vertical"===p?i:!function(){var e;return u.Children.forEach(n,(function(t){"string"===typeof t&&(e=!0)})),e&&u.Children.count(n)>1}())),l)}),"vertical"===p&&i?[d.a.createElement("div",{className:"".concat(y,"-item-main"),key:"content"},n,S),d.a.createElement("div",{className:"".concat(y,"-item-extra"),key:"extra"},i)]:[n,S,Object(g.a)(i,{key:"extra"})]);return f?d.a.createElement(v.a,{ref:t,flex:1,style:b},N):N},S=Object(u.forwardRef)(y);S.Meta=function(e){var t=e.prefixCls,a=e.className,n=e.avatar,r=e.title,o=e.description,i=x(e,["prefixCls","className","avatar","title","description"]),l=(0,Object(u.useContext)(m.b).getPrefixCls)("list",t),b=s()("".concat(l,"-item-meta"),a),j=d.a.createElement("div",{className:"".concat(l,"-item-meta-content")},r&&d.a.createElement("h4",{className:"".concat(l,"-item-meta-title")},r),o&&d.a.createElement("div",{className:"".concat(l,"-item-meta-description")},o));return d.a.createElement("div",Object(c.a)({},i,{className:b}),n&&d.a.createElement("div",{className:"".concat(l,"-item-meta-avatar")},n),(r||o)&&j)};var w=S,N=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a},E=u.createContext({});E.Consumer;function C(e){var t,a=e.pagination,l=void 0!==a&&a,d=e.prefixCls,v=e.bordered,g=void 0!==v&&v,x=e.split,y=void 0===x||x,S=e.className,w=e.children,C=e.itemLayout,z=e.loadMore,P=e.grid,I=e.dataSource,k=void 0===I?[]:I,F=e.size,D=e.header,T=e.footer,A=e.loading,L=void 0!==A&&A,K=e.rowKey,R=e.renderItem,V=e.locale,M=N(e,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),J=l&&"object"===Object(i.a)(l)?l:{},B=u.useState(J.defaultCurrent||1),$=Object(o.a)(B,2),Y=$[0],H=$[1],W=u.useState(J.defaultPageSize||10),Q=Object(o.a)(W,2),U=Q[0],q=Q[1],X=u.useContext(m.b),Z=X.getPrefixCls,_=X.renderEmpty,G=X.direction,ee={},te=function(e){return function(t,a){H(t),q(a),l&&l[e]&&l[e](t,a)}},ae=te("onChange"),ne=te("onShowSizeChange"),ce=Z("list",d),re=L;"boolean"===typeof re&&(re={spinning:re});var oe=re&&re.spinning,ie="";switch(F){case"large":ie="lg";break;case"small":ie="sm"}var le=s()(ce,(t={},Object(r.a)(t,"".concat(ce,"-vertical"),"vertical"===C),Object(r.a)(t,"".concat(ce,"-").concat(ie),ie),Object(r.a)(t,"".concat(ce,"-split"),y),Object(r.a)(t,"".concat(ce,"-bordered"),g),Object(r.a)(t,"".concat(ce,"-loading"),oe),Object(r.a)(t,"".concat(ce,"-grid"),!!P),Object(r.a)(t,"".concat(ce,"-something-after-last-item"),!!(z||l||T)),Object(r.a)(t,"".concat(ce,"-rtl"),"rtl"===G),t),S),se=Object(c.a)(Object(c.a)(Object(c.a)({},{current:1,total:0}),{total:k.length,current:Y,pageSize:U}),l||{}),ue=Math.ceil(se.total/se.pageSize);se.current>ue&&(se.current=ue);var de=l?u.createElement("div",{className:"".concat(ce,"-pagination")},u.createElement(f.a,Object(c.a)({},se,{onChange:ae,onShowSizeChange:ne}))):null,me=Object(n.a)(k);l&&k.length>(se.current-1)*se.pageSize&&(me=Object(n.a)(k).splice((se.current-1)*se.pageSize,se.pageSize));var be=Object.keys(P||{}).some((function(e){return["xs","sm","md","lg","xl","xxl"].includes(e)})),je=Object(O.a)(be),Oe=u.useMemo((function(){for(var e=0;e<h.b.length;e+=1){var t=h.b[e];if(je[t])return t}}),[je]),fe=u.useMemo((function(){if(P){var e=Oe&&P[Oe]?P[Oe]:P.column;return e?{width:"".concat(100/e,"%"),maxWidth:"".concat(100/e,"%")}:void 0}}),[null===P||void 0===P?void 0:P.column,Oe]),pe=oe&&u.createElement("div",{style:{minHeight:53}});if(me.length>0){var he=me.map((function(e,t){return function(e,t){return R?((a="function"===typeof K?K(e):K?e[K]:e.key)||(a="list-item-".concat(t)),ee[t]=a,R(e,t)):null;var a}(e,t)})),ve=u.Children.map(he,(function(e,t){return u.createElement("div",{key:ee[t],style:fe},e)}));pe=P?u.createElement(j.a,{gutter:P.gutter},ve):u.createElement("ul",{className:"".concat(ce,"-items")},he)}else w||oe||(pe=function(e,t){return u.createElement("div",{className:"".concat(e,"-empty-text")},V&&V.emptyText||t("List"))}(ce,_||b.a));var ge=se.position||"bottom",xe=u.useMemo((function(){return{grid:P,itemLayout:C}}),[JSON.stringify(P),C]);return u.createElement(E.Provider,{value:xe},u.createElement("div",Object(c.a)({className:le},M),("top"===ge||"both"===ge)&&de,D&&u.createElement("div",{className:"".concat(ce,"-header")},D),u.createElement(p.a,Object(c.a)({},re),pe,w),T&&u.createElement("div",{className:"".concat(ce,"-footer")},T),z||("bottom"===ge||"both"===ge)&&de))}C.Item=w;t.b=C},1385:function(e,t,a){"use strict";a.r(t);var n=a(142),c=a(143),r=a(145),o=a(144),i=a(0),l=a(43),s=a(66),u=a(984),d=a(991),m=a(981),b=a(64),j=a(986),O=a(312),f=a(166),p=a(3),h=a(5),v=a(2),g=a.n(v),x=a(39),y=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a},S=function(e){var t=e.actions,a=e.author,n=e.avatar,c=e.children,r=e.className,o=e.content,l=e.prefixCls,s=e.datetime,u=y(e,["actions","author","avatar","children","className","content","prefixCls","datetime"]),d=i.useContext(x.b),m=d.getPrefixCls,b=d.direction,j=m("comment",l),O=n?i.createElement("div",{className:"".concat(j,"-avatar")},"string"===typeof n?i.createElement("img",{src:n,alt:"comment-avatar"}):n):null,f=t&&t.length?i.createElement("ul",{className:"".concat(j,"-actions")},t.map((function(e,t){return i.createElement("li",{key:"action-".concat(t)},e)}))):null,v=(a||s)&&i.createElement("div",{className:"".concat(j,"-content-author")},a&&i.createElement("span",{className:"".concat(j,"-content-author-name")},a),s&&i.createElement("span",{className:"".concat(j,"-content-author-time")},s)),S=i.createElement("div",{className:"".concat(j,"-content")},v,i.createElement("div",{className:"".concat(j,"-content-detail")},o),f),w=g()(j,Object(h.a)({},"".concat(j,"-rtl"),"rtl"===b),r);return i.createElement("div",Object(p.a)({},u,{className:w}),i.createElement("div",{className:"".concat(j,"-inner")},O,S),c?function(e,t){return i.createElement("div",{className:g()("".concat(e,"-nested"))},t)}(j,c):null)},w=a(78),N=a(132),E=a.n(N),C=a(1231),z=a(105),P=a(1031),I=a(6),k=Object(O.a)()((function(e){var t=Object(i.useState)(""),a=Object(s.a)(t,2),n=a[0],c=a[1],r=Object(i.useState)(),o=Object(s.a)(r,2),l=o[0],u=o[1],d=Object(i.useState)(Date.now()),m=Object(s.a)(d,2),b=m[0],j=m[1],O=Object(i.useState)(),f=Object(s.a)(O,2),p=f[0],h=f[1];return Object(i.useEffect)((function(){0!==e.id&&z.a.getAnnouncement({id:e.id}).then((function(e){u(e.email),c(e.username),j(parseInt(e.gmtCreate)),h(e.text)}))}),[e.id]),Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(S,{author:void 0!==n?n:"",avatar:Object(I.jsx)(C.a,{email:l}),content:Object(I.jsx)(P.a,{id:"markdownPreview",text:p}),datetime:Object(I.jsx)(w.a,{title:E()(b).format("YYYY-MM-DD HH:mm:ss"),children:Object(I.jsx)("span",{children:E()(b).fromNow()})})})})})),F=a(1023),D=a(256),T=(a(1391),Object(O.a)()((function(e){var t=Object(i.useState)(!1),a=Object(s.a)(t,2),n=a[0],c=a[1],r=Object(i.useState)(0),o=Object(s.a)(r,2),l=o[0],O=o[1],p=Object(i.useState)(""),h=Object(s.a)(p,2),v=h[0],g=h[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(u.a,{title:e.t("AnnouncementDetails")+" ("+v+")",visible:n,onCancel:function(){c(!1)},onOk:function(){c(!1)},footer:null,width:1100,destroyOnClose:!0,children:Object(I.jsx)(k,{id:l})}),Object(I.jsx)(d.a,{title:Object(I.jsxs)(m.b,{children:[Object(I.jsx)(f.a,{}),e.t("Announcement")]}),className:"Announcement-Card",children:Object(I.jsx)(F.a,{size:"small",defaultPageSize:5,columns:[{title:"ID",dataIndex:"noticeId",key:"ID"},{title:e.t("title"),dataIndex:"title",key:"title",render:function(t,a){return Object(I.jsxs)(m.b,{size:5,children:[Object(I.jsx)(b.a,{size:"small",type:"link",onClick:function(){c(!0),O(parseInt(a.noticeId)),g(a.title)},children:t}),1===a.top&&Object(I.jsx)(j.a,{color:"#e10000",children:e.t("Top")})]})}},{title:e.t("ReleaseDate"),dataIndex:"gmtCreate",key:"date",render:function(e){return Object(D.e)(parseInt(e))}}],API:z.a.getAnnouncementList})})]})}))),A=a(1209),L=a(988),K=a(989),R=a.p+"static/media/ban1news.76b1e974.jpg",V=a(316),M=a(168),J=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onSearch=function(e){console.log("search",e)},e}return Object(c.a)(a,[{key:"render",value:function(){return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(d.a,{title:Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(m.b,{children:[Object(I.jsx)(M.a,{}),"".concat(this.props.t("searchProblem")," (").concat(this.props.t("temporarilyClosed"),")")]})}),children:Object(I.jsx)(V.a,{placeholder:this.props.t("pleaseEnterTheTitle,ProblemId,SourceAndOtherInformation"),disabled:!0,onSearch:this.onSearch,enterButton:!0,allowClear:!0})})})}}]),a}(i.Component),B=Object(O.a)()(J),$=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{style:{textAlign:"center",margin:"0 auto"},children:[Object(I.jsx)(A.a,{src:R,preview:!1,style:{maxWidth:"1500px",boxShadow:"2px 2px 10px rgba(0, 0, 0, 0.3)"}}),Object(I.jsx)("div",{style:{textAlign:"left",maxWidth:"1500px",margin:"0 auto"},children:Object(I.jsxs)(L.a,{style:{marginTop:"25px"},children:[Object(I.jsx)(K.a,{span:16,children:Object(I.jsx)(T,{})}),Object(I.jsx)(K.a,{span:7,offset:1,children:Object(I.jsx)(B,{})})]})})]})})}}]),a}(i.Component);t.default=Object(l.e)($)},1391:function(e,t,a){}}]);
//# sourceMappingURL=16.ad6bded8.chunk.js.map