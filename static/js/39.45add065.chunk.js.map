{"version":3,"sources":["Utils/MarkdownPreview.ts","Utils/MarkdownText.tsx","../node_modules/antd/es/badge/utils.js","../node_modules/antd/es/badge/Ribbon.js","../node_modules/antd/es/badge/SingleNumber.js","../node_modules/antd/es/badge/ScrollNumber.js","../node_modules/antd/es/badge/index.js","Component/common/ExportExcel.tsx","Utils/dealFloat.ts","Component/problem/Objective/Objective.tsx","Component/problemSet/SubjectivePreview.tsx","../node_modules/@ant-design/icons-svg/es/asn/QuestionOutlined.js","../node_modules/@ant-design/icons/es/icons/QuestionOutlined.js","Component/problemSet/exportRank.ts","Component/problemSet/Rank.tsx"],"names":["host","MarkdownText","props","useState","running","setRunning","nowText","setNowText","useEffect","isValueEmpty","text","code","id","trim","replaceAll","config","mode","cdn","emojiPath","theme","path","hljs","lineNumber","markdown","toc","mark","footnotes","autoSpace","math","inlineDigit","engine","VditorPreview","preview","document","getElementById","MarkdownPreview","then","res","style","overflowY","isPresetColor","color","PresetColorTypes","indexOf","Ribbon","_ref","_classNames","className","customizePrefixCls","prefixCls","children","_ref$placement","placement","_React$useContext","React","ConfigContext","getPrefixCls","direction","colorInPreset","ribbonCls","classNames","concat","_defineProperty","colorStyle","cornerColorStyle","background","_extends","UnitNumber","value","current","_ref$offset","offset","position","top","left","getOffset","start","end","unit","index","SingleNumber","unitNodes","offsetStyle","originCount","count","originValue","Number","Math","abs","_React$useState","_React$useState2","_slicedToArray","prevValue","setPrevValue","_React$useState3","_React$useState4","prevCount","setPrevCount","onTransitionEnd","timeout","setTimeout","clearTimeout","isNaN","key","transition","unitNumberList","push","prevIndex","findIndex","n","map","singleUnit","transform","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","getOwnPropertySymbols","i","length","propertyIsEnumerable","ScrollNumber","_a","motionClassName","title","show","_a$component","component","restProps","newProps","numberNodes","numberList","String","split","num","borderColor","boxShadow","cloneElement","oriProps","Badge","_classNames2","customizeScrollNumberPrefixCls","scrollNumberPrefixCls","status","_a$count","_a$overflowCount","overflowCount","_a$dot","dot","_a$size","size","_a$showZero","showZero","numberedDisplayCount","hasStatus","undefined","isZero","showAsDot","mergedCount","isHidden","useMemo","countRef","useRef","livingCount","displayCountRef","displayCount","isDotRef","mergedStyle","marginTop","parseInt","right","titleNode","statusTextNode","displayNode","_typeof","statusCls","statusStyle","badgeClassName","statusTextColor","CSSMotion","visible","motionName","motionAppear","motionDeadline","_classNames3","isDot","scrollNumberCls","toString","scrollNumberStyle","ExportExcel","handleExportAll","colMap","nowData","fileName","json","item","keys","reduce","newData","sheet","XLSX","utils","json_to_sheet","openDownloadDialog","sheet2blob","handleExportAllJson","url","saveName","Blob","URL","createObjectURL","event","aLink","createElement","href","download","window","MouseEvent","createEvent","initMouseEvent","dispatchEvent","sheetName","workbook","SheetNames","Sheets","wbout","write","bookType","bookSST","type","buf","ArrayBuffer","view","Uint8Array","charCodeAt","s2ab","this","ButtonType","ButtonProps","onClick","getJson","catch","message","error","ButtonText","Component","dealFloat","v","toFixed","ObjectiveOption","SID","fromCharCode","OptionsState","answer_m","onContextMenu","onMark","onAnswerM","answer","span","key_o","content","withRouter","answerSheet","setAnswerSheet","updateAnswerSheet","getAS","problemInfo","description","choice","SubjectivePreview","mxLength","setMxLength","setShow","level","extra","substr","QuestionOutlined","ref","AntdIcon","_objectSpread","icon","QuestionOutlinedSvg","displayName","exportRank","psid","a","hied","loading","duration","cApi","getProblemSummary","result","rankInfo","data","x","username","obj","rank","nickname","sum_score","ips","finish_time","unix2Time","y","Promise","resolve","connect","state","minWidth","ContestReducer","dispatch","setMinWidth","withTranslation","problemSetId","match","params","setRankInfo","lastUpdate","setLastUpdate","problemSetInfo","setProblemSetInfo","ModalVis","setModalVis","ModalInfo","setModalInfo","info","finally","problemColumns","tableWidth","groupInfo","col","name","fontWeight","dataIndex","width","render","row","h","cop","j","CheckOutlined","tp","getProblemSetProPreview","gid","pid","router","router_submission","proName","stateColum","paddingLeft","paddingRight","float","finish","textAlign","ip","footer","destroyOnClose","onCancel","Objective","SubmissionList","btnText","API","getProblemSetSubmissionList","QuerySubmissionAPI","submissionId","getProblemSetSubmissionInfo","marginBottom","marginLeft","Date","now","pagination","bordered","dataSource","rowClassName","columns","fontSize"],"mappings":"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","file":"static/js/39.45add065.chunk.js","sourcesContent":["// @ts-ignore\nimport VditorPreview from 'vditor/dist/method.min'\nimport {isValueEmpty} from \"./empty\";\n\nconst runHost = \"https://oj.qd.sdu.edu.cn\"\nconst devHost = \"https://oj.cs.sdu.edu.cn:3000\"\nconst host = process.env.NODE_ENV === 'development' ? devHost : runHost;\n\nexport function MarkdownPreview(code: string | null | undefined, id: string) {\n    if (isValueEmpty(code) || isValueEmpty(code?.trim())) code = \"\"\n    code = code?.replaceAll(/`{3}\\n([-|0-9a-zA-Z])/g, \"```plaintext\\n$1\")\n    // 针对原本 $ 换行的公式，加以修正\n    code = code?.replaceAll(/\\$\\n(.*)\\n\\$/g, \"$ $1 $\")\n    const config = {\n        mode: \"light\",\n        cdn: host + \"/vditor\",\n        emojiPath: host + \"/vditor/dist/images/emoji\",\n        theme: {\n            path: host + \"/vditor/dist/css/content-theme\"\n        },\n        hljs: {\n            lineNumber: false\n        },\n        markdown: {\n            toc: true,\n            mark: true,\n            footnotes: true,\n            autoSpace: true,\n        },\n        math: {\n            inlineDigit: true,\n            engine: 'KaTeX'\n        }\n    }\n    // return VditorPreview.md2html(code, config)\n    return VditorPreview.preview(document.getElementById(id), code, config)\n}\n","import {MarkdownPreview} from \"./MarkdownPreview\";\nimport {useEffect, useState} from \"react\";\nimport {isValueEmpty} from \"./empty\";\n\nconst MarkdownText = (props: any) => {\n\n    const [running, setRunning] = useState<boolean>(false);\n    const [nowText, setNowText] = useState<boolean>(false);\n\n    useEffect(() => {\n        if (!isValueEmpty(props.text) && !running && nowText !== props.text) {\n            setRunning(true)\n            setNowText(props.text)\n            MarkdownPreview(props.text, props.id).then((res: any) => {\n                setRunning(false)\n            })\n        }\n    }, [props.id, props.text, running])\n\n    return (\n        <div id={props.id} style={{overflowY: \"hidden\"}}>\n        </div>\n    )\n}\n\nexport default MarkdownText\n","import { PresetColorTypes } from '../_util/colors'; // eslint-disable-next-line import/prefer-default-export\n\nexport function isPresetColor(color) {\n  return PresetColorTypes.indexOf(color) !== -1;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { ConfigContext } from '../config-provider';\nimport { isPresetColor } from './utils';\n\nvar Ribbon = function Ribbon(_ref) {\n  var _classNames;\n\n  var className = _ref.className,\n      customizePrefixCls = _ref.prefixCls,\n      style = _ref.style,\n      color = _ref.color,\n      children = _ref.children,\n      text = _ref.text,\n      _ref$placement = _ref.placement,\n      placement = _ref$placement === void 0 ? 'end' : _ref$placement;\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var prefixCls = getPrefixCls('ribbon', customizePrefixCls);\n  var colorInPreset = isPresetColor(color);\n  var ribbonCls = classNames(prefixCls, \"\".concat(prefixCls, \"-placement-\").concat(placement), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-color-\").concat(color), colorInPreset), _classNames), className);\n  var colorStyle = {};\n  var cornerColorStyle = {};\n\n  if (color && !colorInPreset) {\n    colorStyle.background = color;\n    cornerColorStyle.color = color;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-wrapper\")\n  }, children, /*#__PURE__*/React.createElement(\"div\", {\n    className: ribbonCls,\n    style: _extends(_extends({}, colorStyle), style)\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-text\")\n  }, text), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-corner\"),\n    style: cornerColorStyle\n  })));\n};\n\nexport default Ribbon;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport classNames from 'classnames';\nimport * as React from 'react';\n\nfunction UnitNumber(_ref) {\n  var prefixCls = _ref.prefixCls,\n      value = _ref.value,\n      current = _ref.current,\n      _ref$offset = _ref.offset,\n      offset = _ref$offset === void 0 ? 0 : _ref$offset;\n  var style;\n\n  if (offset) {\n    style = {\n      position: 'absolute',\n      top: \"\".concat(offset, \"00%\"),\n      left: 0\n    };\n  }\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    style: style,\n    className: classNames(\"\".concat(prefixCls, \"-only-unit\"), {\n      current: current\n    })\n  }, value);\n}\n\nfunction getOffset(start, end, unit) {\n  var index = start;\n  var offset = 0;\n\n  while ((index + 10) % 10 !== end) {\n    index += unit;\n    offset += unit;\n  }\n\n  return offset;\n}\n\nexport default function SingleNumber(props) {\n  var prefixCls = props.prefixCls,\n      originCount = props.count,\n      originValue = props.value;\n  var value = Number(originValue);\n  var count = Math.abs(originCount);\n\n  var _React$useState = React.useState(value),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      prevValue = _React$useState2[0],\n      setPrevValue = _React$useState2[1];\n\n  var _React$useState3 = React.useState(count),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      prevCount = _React$useState4[0],\n      setPrevCount = _React$useState4[1]; // ============================= Events =============================\n\n\n  var onTransitionEnd = function onTransitionEnd() {\n    setPrevValue(value);\n    setPrevCount(count);\n  }; // Fallback if transition event not support\n\n\n  React.useEffect(function () {\n    var timeout = setTimeout(function () {\n      onTransitionEnd();\n    }, 1000);\n    return function () {\n      clearTimeout(timeout);\n    };\n  }, [value]); // ============================= Render =============================\n  // Render unit list\n\n  var unitNodes;\n  var offsetStyle;\n\n  if (prevValue === value || Number.isNaN(value) || Number.isNaN(prevValue)) {\n    // Nothing to change\n    unitNodes = [/*#__PURE__*/React.createElement(UnitNumber, _extends({}, props, {\n      key: value,\n      current: true\n    }))];\n    offsetStyle = {\n      transition: 'none'\n    };\n  } else {\n    unitNodes = []; // Fill basic number units\n\n    var end = value + 10;\n    var unitNumberList = [];\n\n    for (var index = value; index <= end; index += 1) {\n      unitNumberList.push(index);\n    } // Fill with number unit nodes\n\n\n    var prevIndex = unitNumberList.findIndex(function (n) {\n      return n % 10 === prevValue;\n    });\n    unitNodes = unitNumberList.map(function (n, index) {\n      var singleUnit = n % 10;\n      return /*#__PURE__*/React.createElement(UnitNumber, _extends({}, props, {\n        key: n,\n        value: singleUnit,\n        offset: index - prevIndex,\n        current: index === prevIndex\n      }));\n    }); // Calculate container offset value\n\n    var unit = prevCount < count ? 1 : -1;\n    offsetStyle = {\n      transform: \"translateY(\".concat(-getOffset(prevValue, value, unit), \"00%)\")\n    };\n  }\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-only\"),\n    style: offsetStyle,\n    onTransitionEnd: onTransitionEnd\n  }, unitNodes);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { ConfigContext } from '../config-provider';\nimport { cloneElement } from '../_util/reactNode';\nimport SingleNumber from './SingleNumber';\n\nvar ScrollNumber = function ScrollNumber(_a) {\n  var customizePrefixCls = _a.prefixCls,\n      count = _a.count,\n      className = _a.className,\n      motionClassName = _a.motionClassName,\n      style = _a.style,\n      title = _a.title,\n      show = _a.show,\n      _a$component = _a.component,\n      component = _a$component === void 0 ? 'sup' : _a$component,\n      children = _a.children,\n      restProps = __rest(_a, [\"prefixCls\", \"count\", \"className\", \"motionClassName\", \"style\", \"title\", \"show\", \"component\", \"children\"]);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var prefixCls = getPrefixCls('scroll-number', customizePrefixCls); // ============================ Render ============================\n\n  var newProps = _extends(_extends({}, restProps), {\n    'data-show': show,\n    style: style,\n    className: classNames(prefixCls, className, motionClassName),\n    title: title\n  }); // Only integer need motion\n\n\n  var numberNodes = count;\n\n  if (count && Number(count) % 1 === 0) {\n    var numberList = String(count).split('');\n    numberNodes = numberList.map(function (num, i) {\n      return /*#__PURE__*/React.createElement(SingleNumber, {\n        prefixCls: prefixCls,\n        count: Number(count),\n        value: num,\n        // eslint-disable-next-line react/no-array-index-key\n        key: numberList.length - i\n      });\n    });\n  } // allow specify the border\n  // mock border-color by box-shadow for compatible with old usage:\n  // <Badge count={4} style={{ backgroundColor: '#fff', color: '#999', borderColor: '#d9d9d9' }} />\n\n\n  if (style && style.borderColor) {\n    newProps.style = _extends(_extends({}, style), {\n      boxShadow: \"0 0 0 1px \".concat(style.borderColor, \" inset\")\n    });\n  }\n\n  if (children) {\n    return cloneElement(children, function (oriProps) {\n      return {\n        className: classNames(\"\".concat(prefixCls, \"-custom-component\"), oriProps === null || oriProps === void 0 ? void 0 : oriProps.className, motionClassName)\n      };\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(component, newProps, numberNodes);\n};\n\nexport default ScrollNumber;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport classNames from 'classnames';\nimport CSSMotion from 'rc-motion';\nimport * as React from 'react';\nimport { useMemo, useRef } from 'react';\nimport { ConfigContext } from '../config-provider';\nimport { cloneElement } from '../_util/reactNode';\nimport Ribbon from './Ribbon';\nimport ScrollNumber from './ScrollNumber';\nimport { isPresetColor } from './utils';\n\nvar Badge = function Badge(_a) {\n  var _classNames, _classNames2;\n\n  var customizePrefixCls = _a.prefixCls,\n      customizeScrollNumberPrefixCls = _a.scrollNumberPrefixCls,\n      children = _a.children,\n      status = _a.status,\n      text = _a.text,\n      color = _a.color,\n      _a$count = _a.count,\n      count = _a$count === void 0 ? null : _a$count,\n      _a$overflowCount = _a.overflowCount,\n      overflowCount = _a$overflowCount === void 0 ? 99 : _a$overflowCount,\n      _a$dot = _a.dot,\n      dot = _a$dot === void 0 ? false : _a$dot,\n      _a$size = _a.size,\n      size = _a$size === void 0 ? 'default' : _a$size,\n      title = _a.title,\n      offset = _a.offset,\n      style = _a.style,\n      className = _a.className,\n      _a$showZero = _a.showZero,\n      showZero = _a$showZero === void 0 ? false : _a$showZero,\n      restProps = __rest(_a, [\"prefixCls\", \"scrollNumberPrefixCls\", \"children\", \"status\", \"text\", \"color\", \"count\", \"overflowCount\", \"dot\", \"size\", \"title\", \"offset\", \"style\", \"className\", \"showZero\"]);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var prefixCls = getPrefixCls('badge', customizePrefixCls); // ================================ Misc ================================\n\n  var numberedDisplayCount = count > overflowCount ? \"\".concat(overflowCount, \"+\") : count;\n  var hasStatus = status !== null && status !== undefined || color !== null && color !== undefined;\n  var isZero = numberedDisplayCount === '0' || numberedDisplayCount === 0;\n  var showAsDot = dot && !isZero;\n  var mergedCount = showAsDot ? '' : numberedDisplayCount;\n  var isHidden = useMemo(function () {\n    var isEmpty = mergedCount === null || mergedCount === undefined || mergedCount === '';\n    return (isEmpty || isZero && !showZero) && !showAsDot;\n  }, [mergedCount, isZero, showZero, showAsDot]); // Count should be cache in case hidden change it\n\n  var countRef = useRef(count);\n\n  if (!isHidden) {\n    countRef.current = count;\n  }\n\n  var livingCount = countRef.current; // We need cache count since remove motion should not change count display\n\n  var displayCountRef = useRef(mergedCount);\n\n  if (!isHidden) {\n    displayCountRef.current = mergedCount;\n  }\n\n  var displayCount = displayCountRef.current; // We will cache the dot status to avoid shaking on leaved motion\n\n  var isDotRef = useRef(showAsDot);\n\n  if (!isHidden) {\n    isDotRef.current = showAsDot;\n  } // =============================== Styles ===============================\n\n\n  var mergedStyle = useMemo(function () {\n    if (!offset) {\n      return _extends({}, style);\n    }\n\n    var offsetStyle = {\n      marginTop: offset[1]\n    };\n\n    if (direction === 'rtl') {\n      offsetStyle.left = parseInt(offset[0], 10);\n    } else {\n      offsetStyle.right = -parseInt(offset[0], 10);\n    }\n\n    return _extends(_extends({}, offsetStyle), style);\n  }, [direction, offset, style]); // =============================== Render ===============================\n  // >>> Title\n\n  var titleNode = title !== null && title !== void 0 ? title : typeof livingCount === 'string' || typeof livingCount === 'number' ? livingCount : undefined; // >>> Status Text\n\n  var statusTextNode = isHidden || !text ? null : /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-status-text\")\n  }, text); // >>> Display Component\n\n  var displayNode = !livingCount || _typeof(livingCount) !== 'object' ? undefined : cloneElement(livingCount, function (oriProps) {\n    return {\n      style: _extends(_extends({}, mergedStyle), oriProps.style)\n    };\n  }); // Shared styles\n\n  var statusCls = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-status-dot\"), hasStatus), _defineProperty(_classNames, \"\".concat(prefixCls, \"-status-\").concat(status), !!status), _defineProperty(_classNames, \"\".concat(prefixCls, \"-status-\").concat(color), isPresetColor(color)), _classNames));\n  var statusStyle = {};\n\n  if (color && !isPresetColor(color)) {\n    statusStyle.background = color;\n  }\n\n  var badgeClassName = classNames(prefixCls, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-status\"), hasStatus), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-not-a-wrapper\"), !children), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames2), className); // <Badge status=\"success\" />\n\n  if (!children && hasStatus) {\n    var statusTextColor = mergedStyle.color;\n    return /*#__PURE__*/React.createElement(\"span\", _extends({}, restProps, {\n      className: badgeClassName,\n      style: mergedStyle\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: statusCls,\n      style: statusStyle\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: statusTextColor\n      },\n      className: \"\".concat(prefixCls, \"-status-text\")\n    }, text));\n  } // <Badge status=\"success\" count={<Icon type=\"xxx\" />}></Badge>\n\n\n  return /*#__PURE__*/React.createElement(\"span\", _extends({}, restProps, {\n    className: badgeClassName\n  }), children, /*#__PURE__*/React.createElement(CSSMotion, {\n    visible: !isHidden,\n    motionName: \"\".concat(prefixCls, \"-zoom\"),\n    motionAppear: false,\n    motionDeadline: 1000\n  }, function (_ref) {\n    var _classNames3;\n\n    var motionClassName = _ref.className;\n    var scrollNumberPrefixCls = getPrefixCls('scroll-number', customizeScrollNumberPrefixCls);\n    var isDot = isDotRef.current;\n    var scrollNumberCls = classNames((_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(prefixCls, \"-dot\"), isDot), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-count\"), !isDot), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-count-sm\"), size === 'small'), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-multiple-words\"), !isDot && displayCount && displayCount.toString().length > 1), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-status-\").concat(status), !!status), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-status-\").concat(color), isPresetColor(color)), _classNames3));\n\n    var scrollNumberStyle = _extends({}, mergedStyle);\n\n    if (color && !isPresetColor(color)) {\n      scrollNumberStyle = scrollNumberStyle || {};\n      scrollNumberStyle.background = color;\n    }\n\n    return /*#__PURE__*/React.createElement(ScrollNumber, {\n      prefixCls: scrollNumberPrefixCls,\n      show: !isHidden,\n      motionClassName: motionClassName,\n      className: scrollNumberCls,\n      count: displayCount,\n      title: titleNode,\n      style: scrollNumberStyle,\n      key: \"scrollNumber\"\n    }, displayNode);\n  }), statusTextNode);\n};\n\nBadge.Ribbon = Ribbon;\nexport default Badge;","import {Component} from \"react\";\nimport {Button, message} from \"antd\";\nimport XLSX from \"xlsx\";\nimport {ButtonType} from \"antd/lib/button/button\";\n\ninterface IButtonText {\n    ButtonText: any\n    ButtonType: ButtonType\n    ButtonProps?: any\n    fileName: string\n    colMap?: any\n    nowData?: any\n    getJson?: any\n}\n\nclass ExportExcel extends Component<IButtonText, any> {\n\n    handleExportAll = (colMap: any, nowData: any, fileName: string) => {\n        const json = nowData.map((item: any) => {\n            return Object.keys(item).reduce((newData: any, key) => {\n                newData[colMap[key] || key] = item[key]\n                return newData\n            }, {})\n        });\n        // console.log(\"json\", json)\n        const sheet = XLSX.utils.json_to_sheet(json);\n        this.openDownloadDialog(this.sheet2blob(sheet, undefined), fileName + `.xlsx`);\n    }\n\n    handleExportAllJson = (json: any, fileName: string) => {\n        const sheet = XLSX.utils.json_to_sheet(json);\n        this.openDownloadDialog(this.sheet2blob(sheet, undefined), fileName + `.xlsx`);\n    }\n\n    openDownloadDialog = (url: any, saveName: any) => {\n        if (typeof url === 'object' && url instanceof Blob) {\n            url = URL.createObjectURL(url); // 创建blob地址\n        }\n        var aLink = document.createElement('a');\n        aLink.href = url;\n        aLink.download = saveName || ''; // HTML5新增的属性，指定保存文件名，可以不要后缀，注意，file:///模式下不会生效\n        var event;\n        if (window.MouseEvent) event = new MouseEvent('click');\n        else {\n            event = document.createEvent('MouseEvents');\n            event.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n        }\n        aLink.dispatchEvent(event);\n    }\n\n    sheet2blob = (sheet: any, sheetName: any) => {\n        sheetName = sheetName || 'sheet1';\n        let workbook: any = {\n            SheetNames: [sheetName],\n            Sheets: {}\n        };\n        workbook.Sheets[sheetName] = sheet; // 生成excel的配置项\n\n        let wopts: any = {\n            bookType: 'xlsx', // 要生成的文件类型\n            bookSST: false, // 是否生成Shared String Table，官方解释是，如果开启生成速度会下降，但在低版本IOS设备上有更好的兼容性\n            type: 'binary'\n        };\n        let wbout = XLSX.write(workbook, wopts);\n\n        // 字符串转ArrayBuffer\n        function s2ab(s: any) {\n            let buf = new ArrayBuffer(s.length);\n            let view = new Uint8Array(buf);\n            for (let i = 0; i !== s.length; ++i) view[i] = s.charCodeAt(i) & 0xFF;\n            return buf;\n        }\n\n        return new Blob([s2ab(wbout)], {type: \"application/octet-stream\"});\n    }\n\n    render() {\n        return (\n            <Button\n                type={this.props.ButtonType}\n                {...this.props.ButtonProps}\n                onClick={() => {\n                    if (this.props.getJson !== undefined) {\n                        this.props.getJson().then((json: any) => {\n                            this.handleExportAllJson(json, this.props.fileName)\n                        }).catch((e: any) => {\n                            // console.log(e)\n                            message.error(e)\n                        })\n                    } else {\n                        const nowData = this.props.nowData()\n                        const colMap = this.props.colMap(nowData)\n                        this.handleExportAll(colMap, nowData, this.props.fileName)\n                    }\n                }}\n            >\n                {this.props.ButtonText}\n            </Button>\n        )\n    }\n}\n\nexport default ExportExcel","import {isValueEmpty} from \"./empty\";\n\nconst dealFloat = (v: number) => {\n    if(isValueEmpty(v)) return 0\n    if(v.toString().length > 6) return v.toFixed(2)\n    return v\n}\n\nexport default dealFloat;\n","import React, {useEffect, useState} from \"react\";\nimport {Col, Row} from \"antd\";\nimport {CheckOutlined, CloseOutlined} from \"@ant-design/icons\";\nimport \"Assert/css/Options.scss\"\nimport {withRouter} from \"react-router-dom\";\nimport MarkdownText from \"../../../Utils/MarkdownText\";\n\ninterface propType {\n    key_o: string         // 题目索引名\n    problemInfo: any,       // 获取题目信息\n    getAS: any          // 获取用户答题信息\n    onMark: any         // 标记某个选项\n    onAnswerM: any      // 选择某个选项\n}\n\nconst Objective = (props: propType & any) => {\n\n    const [answerSheet, setAnswerSheet] = useState<any>(props.answerSheet)\n\n    useEffect(() => {\n        if (props.answerSheet !== undefined) {\n            setAnswerSheet(props.answerSheet)\n        } else {\n            updateAnswerSheet()\n        }\n    }, [props.key_o])\n\n    const updateAnswerSheet = () => {\n        props.getAS && props.getAS().then((res: any) => {\n            setAnswerSheet(res)\n        })\n    }\n\n    return (\n        <div className={\"Choice\"}>\n            <div className={\"Choice-title\"}>\n                <MarkdownText id={\"Choice-title-id\" + props.key_o} text={props.problemInfo?.description}/>\n            </div>\n            {props.problemInfo?.choice !== undefined && (\n                props.problemInfo.choice.map((v: any, index: number) => {\n                    return (\n                        <ObjectiveOption\n                            onMark={(SID: string) => {\n                                props.onMark && props.onMark(SID).then(() => {\n                                    updateAnswerSheet()\n                                })\n                            }}\n                            onAnswerM={(SID: string) => {\n                                props.onAnswerM && props.onAnswerM(SID).then(() => {\n                                    updateAnswerSheet()\n                                })\n                            }}\n                            mark={answerSheet?.mark ?? []}\n                            answer={answerSheet?.answer ?? []}\n                            answer_m={answerSheet?.answer_m ?? []}\n                            index={index}\n                            content={v}\n                            key_o={props.key_o + \"-\" + index.toString()}\n                        />\n                    )\n                })\n            )}\n        </div>\n    )\n}\n\n\ninterface ObjectiveOptionType {\n    key_o: string         // 关键字\n    content: string     // 文本内容\n    index: number       // 在所有选项中的编号\n    mark: string        // 标记的选项\n    onMark: any         // 在标记时调用\n    answer_m: string    // 我的答案\n    onAnswerM: any      // 在作答时调用\n    answer: string      // 正确答案\n}\n\nconst ObjectiveOption = (props: ObjectiveOptionType) => {\n\n    const SID = String.fromCharCode('A'.charCodeAt(0) + props.index)\n\n    let OptionsState = \"\"\n    if (props.answer_m.indexOf(SID) !== -1) OptionsState = \"used\"\n    else if (props.mark.indexOf(SID) !== -1) OptionsState = \"unused\"\n    else OptionsState = \"init\"\n\n\n    return (\n        <>\n            <div\n                onContextMenu={() => {\n                    props.onMark && props.onMark(SID)\n                }}\n                onClick={() => {\n                    props.onAnswerM && props.onAnswerM(SID)\n                }}\n                className={\"Options-\" + OptionsState + ` Options-${props.answer.indexOf(SID) !== -1 ? \"green\" : \"\"}`}\n            >\n                <Row>\n                    <Col span={1}>\n                        {[''].map(() => {\n                            if (OptionsState === \"used\") return <CheckOutlined/>\n                            if (OptionsState === \"unused\") return <CloseOutlined/>\n                            return undefined\n                        })}\n                    </Col>\n                    <Col className={\"Options-Choice\"} span={1}>\n                        {SID}.\n                    </Col>\n                    <Col className={\"Options-content\"} span={22}>\n                        <MarkdownText id={\"Options-content-id-\" + props.key_o} text={props.content}/>\n                    </Col>\n                </Row>\n            </div>\n        </>\n    )\n}\n\nexport default withRouter(Objective);\n","import {Button, Card} from \"antd\";\nimport Title from \"antd/es/typography/Title\";\nimport MarkdownText from \"../../Utils/MarkdownText\";\nimport React, {useEffect, useState} from \"react\";\n\nconst SubjectivePreview = (props: any) => {\n    const [mxLength, setMxLength] = useState<any>(240);\n    const [show, setShow] = useState<boolean>(false);\n\n    useEffect(() => {\n        setMxLength(240)\n    }, [props.description, props.answer])\n\n\n    return (\n        <>\n            <div>\n                <Card\n                    title={<Title level={5}> 原问题 </Title>}\n                    style={{marginTop: 24}}\n                    extra={<Button type={\"default\"} onClick={() => {\n                        if (mxLength === 998244353) {\n                            setMxLength(240)\n                        } else {\n                            setMxLength(998244353)\n                        }\n                    }}>{mxLength === 998244353 ? \"收齐全文\" : \"展开全文\"}</Button>}\n                >\n                    <MarkdownText\n                        id={\"proDescription\"}\n                        text={(props?.description ?? \"\").substr(0, mxLength)}\n                    />\n                </Card>\n            </div>\n            <Card\n                title={\n                    <Title level={5}> 学生答案 </Title>\n                }\n                style={{marginTop: 24}}\n                extra={<Button type={\"default\"} onClick={() => {\n                    setShow(!show)\n                }}>{show ? \"显示渲染\" : \"显示原文\"}</Button>}\n            >\n                {show && (\n                    <pre>\n                        {props?.answer?.[0]}\n                    </pre>\n                )}\n                {!show && (\n                    <MarkdownText\n                        id={\"userAnswer\"}\n                        text={props?.answer?.[0]}\n                    />\n                )}\n            </Card>\n        </>\n    )\n}\n\nexport default SubjectivePreview\n","// This icon file is generated automatically.\nvar QuestionOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M764 280.9c-14-30.6-33.9-58.1-59.3-81.6C653.1 151.4 584.6 125 512 125s-141.1 26.4-192.7 74.2c-25.4 23.6-45.3 51-59.3 81.7-14.6 32-22 65.9-22 100.9v27c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-27c0-99.5 88.6-180.4 197.6-180.4s197.6 80.9 197.6 180.4c0 40.8-14.5 79.2-42 111.2-27.2 31.7-65.6 54.4-108.1 64-24.3 5.5-46.2 19.2-61.7 38.8a110.85 110.85 0 00-23.9 68.6v31.4c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-31.4c0-15.7 10.9-29.5 26-32.9 58.4-13.2 111.4-44.7 149.3-88.7 19.1-22.3 34-47.1 44.3-74 10.7-27.9 16.1-57.2 16.1-87 0-35-7.4-69-22-100.9zM512 787c-30.9 0-56 25.1-56 56s25.1 56 56 56 56-25.1 56-56-25.1-56-56-56z\" } }] }, \"name\": \"question\", \"theme\": \"outlined\" };\nexport default QuestionOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport QuestionOutlinedSvg from \"@ant-design/icons-svg/es/asn/QuestionOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar QuestionOutlined = function QuestionOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: QuestionOutlinedSvg\n  }));\n};\n\nQuestionOutlined.displayName = 'QuestionOutlined';\nexport default /*#__PURE__*/React.forwardRef(QuestionOutlined);","import {unix2Time} from \"../../Utils/Time\";\nimport {isValueEmpty} from \"../../Utils/empty\";\nimport cApi from \"../../Utils/API/c-api\";\nimport {message} from \"antd\";\n\nconst exportRank = async (psid: any) => {\n    const hied = message.loading({\n        content: \"导出内容较多，请耐心等待\",\n        duration: 0,\n    })\n    return cApi.getProblemSummary({psid: psid, code: 1}).then((result: any) => {\n        const rankInfo = result.data\n        let res: any = []\n        for (const x of rankInfo) {\n            if (x.username === \"sducs\" || x.username === \"superadmin\") continue;\n            let obj: any = {\n                \"排名\": x.rank,\n                \"姓名\": x.nickname,\n                \"学号\": x.username,\n                \"总分\": x.sum_score,\n                \"ip数量\": x.ips?.length,\n                \"ip地址\": x.ips?.toString(),\n                \"交卷时间\": !isValueEmpty(x.finish_time) ? unix2Time(x.finish_time) : \"\"\n            }\n            for (const y in x) {\n                if (y.indexOf(\"-\") !== -1) {\n                    obj[y + \"-分数\"] = x[y].s\n                    if (!isValueEmpty(x[y].code))\n                        obj[y + \"-代码\"] = x[y].code.substr(0, 32766)\n\n                }\n            }\n            res.push(obj)\n        }\n        hied()\n        return Promise.resolve(res)\n    })\n\n}\n\nexport default exportRank;\n","import {withTranslation} from \"react-i18next\";\nimport {withRouter} from \"react-router-dom\";\nimport {Badge, message, Modal, Popover, Table, Tag} from \"antd\";\nimport {ContestState} from \"../../Redux/Action/contest\";\nimport React, {Dispatch, useEffect, useState} from \"react\";\nimport {connect} from \"react-redux\";\nimport \"Assert/css/ContestRank.css\"\nimport cApi from \"Utils/API/c-api\"\nimport {CheckOutlined, QuestionOutlined} from \"@ant-design/icons\";\nimport dealFloat from \"../../Utils/dealFloat\";\nimport {unix2Time} from \"../../Utils/Time\";\nimport ExportExcel from \"../common/ExportExcel\";\nimport exportRank from \"./exportRank\";\nimport SubmissionList from \"../submission/SubmissionList/SubmissionList\";\nimport SubjectivePreview from \"./SubjectivePreview\";\nimport Objective from \"../problem/Objective/Objective\";\n\nconst Rank = (props: any) => {\n    const problemSetId = props.match.params.problemSetId\n    // const problemSetInfo = useProblemSetInfo(problemSetId)\n\n    const [rankInfo, setRankInfo] = useState<any>()\n    const [lastUpdate, setLastUpdate] = useState<any>()\n    const [problemSetInfo, setProblemSetInfo] = useState<any>()\n\n    const [ModalVis, setModalVis] = useState<boolean>(false);\n    const [ModalInfo, setModalInfo] = useState<any>({});\n\n    useEffect(() => {\n        if (rankInfo === undefined) {\n            const hied = message.loading({\n                content: \"榜单信息内容较多，请耐心等待\",\n                duration: 0,\n            })\n            cApi.getProblemSummary({psid: problemSetId, code: 0}).then((res: any) => {\n                setRankInfo(res.data)\n                setLastUpdate(res.lastUpdate)\n                setProblemSetInfo(res.info)\n            }).finally(() => {\n                hied()\n            })\n        }\n    }, [rankInfo, setRankInfo])\n\n    const problemColumns = []\n    let tableWidth = 330\n    const problemWidth = 70\n\n    if (problemSetInfo !== undefined) {\n        for (const x of problemSetInfo.groupInfo) {\n            const getTp = () => {\n                if (x.type === 0) return \"客观题\"\n                if (x.type === 1) return \"主观题\"\n                if (x.type === 2) return \"编程题\"\n            }\n            const col: any = {\n                title: <>\n                    <div>{`题组${x.index + 1} - ${x.name}`}</div>\n                    <div>{`${getTp()}`}</div>\n                </>,\n                children: []\n            }\n            for (const y of x.problemInfo) {\n                col.children.push({\n                    title: (\n                        <div className={\"ProHeader\"}>\n                            <div>\n                                <span style={{fontWeight: \"bold\"}}>\n                                    题目 {y.index + 1}\n                                </span>\n                            </div>\n                        </div>\n                    ),\n                    dataIndex: `${x.index + 1}-${y.index + 1}`,\n                    width: problemWidth,\n                    render: (text: any, row: any) => {\n                        if (text.h) {\n                            // 是否已经阅卷\n                            const cop = text.j ? <CheckOutlined style={{color: '#52c41a'}}/> :\n                                <QuestionOutlined style={{color: '#faad14'}}/>\n                            return (\n                                <div onClick={() => {\n                                    setModalVis(true)\n                                    let tp = problemSetInfo.groupInfo[x.index].type;\n                                    if (tp === 0 || tp === 1) {\n                                        const hied = message.loading({\n                                            content: \"加载中\",\n                                            duration: 0,\n                                        })\n                                        cApi.getProblemSetProPreview({\n                                            psid: problemSetId,\n                                            gid: x.index,\n                                            pid: y.index,\n                                            username: row.username\n                                        }).then((res: any) => {\n                                            if (tp === 0) {\n                                                setModalInfo({\n                                                    type: 0,\n                                                    problemInfo: res.problemInfo,\n                                                    answerSheet: {\n                                                        answer_m: res.answerSheet.answer,\n                                                        answer: res.problemInfo.answer,\n                                                        mark: res.answerSheet.mark\n                                                    },\n                                                    key_o: `${x.index + 1}-${y.index + 1}`\n                                                })\n                                            }\n                                            if (tp === 1) {\n                                                setModalInfo({\n                                                    type: 1,\n                                                    description: res.problemInfo.description,\n                                                    answer: res.answerSheet.answer\n                                                })\n                                            }\n                                        }).finally(() => {\n                                            hied()\n                                        })\n\n                                    } else if (tp === 2) {\n                                        setModalInfo({\n                                            type: 2,\n                                            username: row.username,\n                                            router: {psid: problemSetId, gid: x.index, pid: y.index},\n                                            router_submission: {psid: problemSetId, gid: -1, pid: -1},\n                                            proName: `题组${x.index + 1} - ${x.name}`\n                                        })\n                                    }\n                                }}>\n                                    <Badge count={cop} offset={[15, -3]}>\n                                        <span style={{fontWeight: \"bold\"}}>{dealFloat(text.s)}</span>\n                                    </Badge>\n                                </div>\n                            )\n                        }\n                    }\n                })\n                tableWidth += problemWidth\n            }\n            problemColumns.push(col)\n        }\n        if (props.minWidth !== tableWidth)\n            props.setMinWidth(tableWidth)\n    }\n\n    const stateColum: any = []\n\n    if (problemSetInfo?.type === 1) {\n        stateColum.push({\n            title: \"状态\",\n            width: 150,\n            render: (text: any, row: any) => {\n                return (\n                    <div style={{paddingLeft: 10, paddingRight: 10}}>\n                        <span style={{float: \"left\"}}>\n                            {row.finish === 1 && (\n                                <Popover content={<>{unix2Time(row.finish_time)}</>} title=\"交卷时间\">\n                                    <Tag color={\"red\"}>交卷</Tag>\n                                </Popover>\n                            )}\n                        </span>\n                        <span style={{float: \"right\", textAlign: \"right\"}}>\n                            {row.ips?.length <= 1 && (\n                                <Tag color={\"green\"}>Ip正常</Tag>\n                            )}\n                            {row.ips?.length > 1 && (\n                                <Popover\n                                    content={\n                                        <>{row.ips?.map((ip: string) => <div>{ip}</div>)}</>\n                                    }\n                                    title=\"使用Ip\">\n                                    <Tag color={\"orange\"}>Ip异常</Tag>\n                                </Popover>\n                            )}\n                        </span>\n                    </div>\n                )\n            }\n        })\n        tableWidth += 150\n    }\n\n    return (\n        <div style={{marginTop: 24}}>\n            <Modal\n                width={1250}\n                visible={ModalVis}\n                footer={false}\n                destroyOnClose={true}\n                onCancel={() => {\n                    setModalVis(false)\n                }}\n            >\n                {ModalInfo.type === 0 && (\n                    <Objective\n                        problemInfo={ModalInfo?.problemInfo}\n                        answerSheet={ModalInfo?.answerSheet}\n                        key_o={ModalInfo?.key_o}\n                    />\n                )}\n                {ModalInfo.type === 1 && (\n                    <SubjectivePreview\n                        description={ModalInfo?.description}\n                        answer={ModalInfo?.answer}\n                    />\n                )}\n                {ModalInfo.type === 2 && (\n                    <SubmissionList\n                        btnText={\"记录-\" + ModalInfo.username + \"-\" + ModalInfo.proName}\n                        name={\"Contest-Rank-SubmissionList-\" + ModalInfo.username + \"-\" + ModalInfo.proName}\n                        API={async (data: any) => {\n                            return cApi.getProblemSetSubmissionList({\n                                ...data,\n                                router: ModalInfo.router,\n                                username: ModalInfo.username,\n                                problemSetId: ModalInfo.router.psid\n                            })\n                        }}\n                        QuerySubmissionAPI={async (submissionId: string) => {\n                            return cApi.getProblemSetSubmissionInfo({\n                                ...ModalInfo.router_submission,\n                                submissionId: submissionId\n                            })\n                        }}\n                    />\n                )}\n\n            </Modal>\n            <div style={{fontWeight: \"lighter\", marginBottom: 16, marginLeft: 4}}>\n                榜单更新有大约1分钟的延迟，上次更新时间：{lastUpdate ? unix2Time(lastUpdate) : undefined}\n                <div style={{float: \"right\"}}>\n                    <ExportExcel\n                        ButtonProps={{}}\n                        ButtonText={\"导出成绩\"}\n                        ButtonType={\"default\"}\n                        getJson={() => exportRank(problemSetId)}\n                        fileName={problemSetInfo?.name + \"_\" + Date.now() + \"_结果导出\"}\n                    />\n                </div>\n            </div>\n            <Table\n                className={\"RankTable\"}\n                style={{width: tableWidth, minWidth: tableWidth}}\n                pagination={false}\n                bordered={true}\n                dataSource={rankInfo}\n                rowClassName={() => {\n                    return \"rowBase\"\n                }}\n                columns={[\n                    {\n                        title: \"排名\",\n                        dataIndex: \"rank\",\n                        width: 80,\n                        render: (text) => {\n                            return <span className={\"center\"}> {text} </span>\n                        }\n                    },\n                    {\n                        title: \"参赛人\",\n                        width: 150,\n                        render: (text, row) => {\n                            return (\n                                <div style={{paddingLeft: 10, paddingRight: 10}}>\n                                    <span style={{float: \"right\", textAlign: \"right\"}}>\n                                        <div style={{fontWeight: \"bold\"}}>{row.username}</div>\n                                        <div style={{color: \"grey\", fontSize: 12}}>{row.nickname}</div>\n                                    </span>\n                                </div>\n                            )\n                        }\n                    },\n                    ...stateColum,\n                    {\n                        title: \"总分\",\n                        width: 100,\n                        render: (text, row) => {\n                            return (\n                                <>\n                                    <span>{dealFloat(row.sum_score)}</span>\n                                </>\n                            )\n                        }\n                    },\n                    ...problemColumns\n                ]}\n            >\n            </Table>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state: any) => {\n    const State: ContestState = state.ContestReducer\n    return {\n        minWidth: State.minWidth,\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch<any>) => ({\n    setMinWidth: (data: number) => dispatch({\n        type: \"setMinWidth\", data: data\n    }),\n})\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withTranslation()(withRouter(Rank)))\n"],"sourceRoot":""}