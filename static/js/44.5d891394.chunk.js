(this.webpackJsonpsduoj=this.webpackJsonpsduoj||[]).push([[44],{1018:function(e,t,a){"use strict";var n=a(31),c=a(88),r=a(984),i=a(1006),o=a(974),l=a(62),s=a(1125),d=a(983),u=a(0),j=a(99),b=a(76),m=a(421),f=a(41),v=a(309),g=a(66),O=a(1376),h=a(6);t.a=Object(b.b)((function(e){var t,a=e.UserReducer,c=e.TableReduce;return{roles:null===(t=a.userInfo)||void 0===t?void 0:t.roles,tableData:Object(n.a)({},c.tableData)}}),(function(e){return{setTableInfo:function(t,a){return e({type:"setTableInfo",name:t,data:a})},setDataSource:function(t,a){return e({type:"setDataSource",data:t,name:a,add:!1})}}}))(Object(m.a)()(Object(f.e)((function(e){var t,a=Object(u.useState)(0),b=Object(c.a)(a,2),m=b[0],f=b[1],p=Object(u.useState)(),x=Object(c.a)(p,2),y=x[0],S=x[1],w=Object(u.useState)(!0),C=Object(c.a)(w,2),k=C[0],I=C[1],z=Object(u.useState)(1),N=Object(c.a)(z,2),P=N[0],E=N[1],L=Object(u.useState)(Object(g.a)(e.defaultPageSize,j.h)),F=Object(c.a)(L,2),T=F[0],J=F[1],V=Object(u.useState)(),D=Object(c.a)(V,2),R=D[0],K=D[1],A=Object(u.useState)(0),M=Object(c.a)(A,2),B=M[0],$=M[1],_=function(t){S(t),void 0!==e.setDataSource&&void 0!==e.name&&e.setDataSource(t,e.name)},U=function(t,a,c,r){var i,o,l,s,d,u,j,b,m,v=null===(i=e.tableData[e.name])||void 0===i?void 0:i.tableInfo;void 0!==v&&(void 0===r&&void 0!==v.moreProps&&Q.setFieldsValue(v.moreProps),t=null!==(u=t)&&void 0!==u?u:v.pageNow,a=null!==(j=a)&&void 0!==j?j:v.pageSize,c=null!==(b=c)&&void 0!==b?b:v.searchKey,r=null!==(m=r)&&void 0!==m?m:v.moreProps);var g=null!==(o=t)&&void 0!==o?o:P,O=null!==(l=a)&&void 0!==l?l:T,h=null!==(s=c)&&void 0!==s?s:R,p=null!==(d=r)&&void 0!==d?d:Q.getFieldsValue();E(g),J(O),K(h),I(!0),e.API(Object(n.a)({pageNow:g,pageSize:O,searchKey:h},p)).then((function(t){null===t.rows&&(t.rows=[]),void 0!==e.APIRowsTransForm?_(e.APIRowsTransForm(t.rows)):_(t.rows),void 0!==t.totalNum&&"0"!==t.totalNum?(f(t.totalNum),e.name&&e.setTableInfo(e.name,{total:t.totalNum,pageNow:g,pageSize:O,searchKey:h,moreProps:p})):(f(O*t.totalPage),e.name&&e.setTableInfo(e.name,{total:O*t.totalPage,pageNow:g,pageSize:O,searchKey:h,moreProps:p})),I(!1)}))};Object(u.useEffect)((function(){Q.setFieldsValue(e.initRequestProps),U()}),[e.name]);var q=Object(O.a)(),Q=Object(c.a)(q,1)[0],G=function(){var e=Q.getFieldsValue();"{}"!==JSON.stringify(e)&&U(1,T,void 0,e)},H=function(){var t,a=Q.getFieldsValue();Q.resetFields();var n=null===(t=e.tableData[e.name])||void 0===t?void 0:t.tableInfo;e.name&&e.setTableInfo(e.name,{total:n.total,pageNow:n.pageNow,pageSize:n.pageSize,searchKey:n.searchKey,moreProps:void 0});var c=Q.getFieldsValue();JSON.stringify(a)!==JSON.stringify(c)&&U(1,T,void 0,void 0)};return Object(u.useEffect)((function(){var t,a=null===(t=e.tableData[e.name])||void 0===t?void 0:t.tableVersion;if(void 0!==a&&B!==a)if(a<0){var n;$(-a),S(null===(n=e.tableData[e.name])||void 0===n?void 0:n.dataSource)}else{$(a);var c=Q.getFieldsValue();U(P,T,R,c)}}),[e.tableData,B]),Object(h.jsxs)(h.Fragment,{children:[e.useList&&Object(h.jsx)(r.a,{title:e.title,bordered:!0,size:"default",className:null!==(t=e.cardProps)&&void 0!==t?t:"zeroBodyPaddingLeft",extra:(!0===e.search||void 0!==e.getForm)&&Object(h.jsxs)(h.Fragment,{children:[!0===e.search&&Object(h.jsx)(v.a,{placeholder:e.t("searchUser"),onSearch:function(e){K(e),E(1);var t=Q.getFieldsValue();U(1,T,e,t)},enterButton:!0,style:{width:300}},"search"),void 0!==e.getForm&&Object(h.jsxs)(i.a,{form:Q,children:[e.getForm(G),e.useFormBtn&&Object(h.jsxs)(o.b,{style:{marginLeft:"30px"},size:20,children:[Object(h.jsx)(l.a,{type:"primary",onClick:G,children:"\u7b5b\u9009"}),Object(h.jsx)(l.a,{htmlType:"button",onClick:H,children:"\u91cd\u7f6e"})]})]})]}),children:Object(h.jsx)(s.b,{grid:e.grid,itemLayout:"vertical",loading:k,size:e.size,dataSource:y,renderItem:e.renderItem,pagination:{onChange:function(e,t){U(e,t)},current:P,pageSize:T,total:m,size:"small",hideOnSinglePage:!0,showQuickJumper:!0,showLessItems:!0,showSizeChanger:Object(g.a)(e.showSizeChanger,!0),pageSizeOptions:["5","15","20","50","80"]}})}),!e.useList&&Object(h.jsx)(r.a,{bordered:!1,size:"small",extra:(!0===e.search||void 0!==e.getForm)&&Object(h.jsxs)(h.Fragment,{children:[!0===e.search&&Object(h.jsx)(v.a,{placeholder:"\u641c\u7d22",onSearch:function(e){K(e),E(1),U(1,T,e)},enterButton:!0,style:{width:300}},"search"),void 0!==e.getForm&&Object(h.jsxs)(i.a,{form:Q,children:[e.getForm(G),Object(h.jsxs)(o.b,{style:{marginLeft:"30px"},size:20,children:[Object(h.jsx)(l.a,{type:"primary",onClick:G,children:e.t("filtering")}),Object(h.jsx)(l.a,{htmlType:"button",onClick:H,children:e.t("Reset")})]})]})]}),children:Object(h.jsx)(d.a,{rowKey:e.rowKey,loading:k,size:e.size,columns:e.columns,rowSelection:e.rowSelection,dataSource:y,pagination:{onChange:function(e,t){U(e,t)},current:P,pageSize:T,total:m,hideOnSinglePage:!0,showQuickJumper:!0,showLessItems:!0,showSizeChanger:Object(g.a)(e.showSizeChanger,!0),pageSizeOptions:["5","15","20","50","80"]}})})]})}))))},1032:function(e,t,a){"use strict";var n=a(88),c=a(1096),r=a.n(c),i=a(66),o="https://oj.qd.sdu.edu.cn";var l=a(0),s=a(6);t.a=function(e){var t=Object(l.useState)(!1),a=Object(n.a)(t,2),c=a[0],d=a[1],u=Object(l.useState)(!1),j=Object(n.a)(u,2),b=j[0],m=j[1];return Object(l.useEffect)((function(){Object(i.c)(e.text)||c||b===e.text||(d(!0),m(e.text),function(e,t){var a,n,c;(Object(i.c)(e)||Object(i.c)(null===(a=e)||void 0===a?void 0:a.trim()))&&(e=""),e=null===(c=e=null===(n=e)||void 0===n?void 0:n.replaceAll(/`{3}\n([-|0-9a-zA-Z])/g,"```plaintext\n$1"))||void 0===c?void 0:c.replaceAll(/\$\n(.*)\n\$/g,"$ $1 $");var l={mode:"light",cdn:o+"/vditor",emojiPath:o+"/vditor/dist/images/emoji",theme:{path:o+"/vditor/dist/css/content-theme"},hljs:{lineNumber:!1},markdown:{toc:!0,mark:!0,footnotes:!0,autoSpace:!0},math:{inlineDigit:!0,engine:"KaTeX"}};return r.a.preview(document.getElementById(t),e,l)}(e.text,e.id).then((function(e){d(!1)})))}),[e.id,e.text,c]),Object(s.jsx)("div",{id:e.id,style:{overflowY:"hidden"}})}},1125:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(23),c=a(3),r=a(5),i=a(12),o=a(18),l=a(2),s=a.n(l),d=a(0),u=a.n(d),j=a(39),b=a(193),m=a(971),f=a(145),v=a(316),g=a(250),O=a(112),h=a(453),p=a(25),x=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a},y=function(e,t){var a=e.prefixCls,n=e.children,i=e.actions,o=e.extra,l=e.className,b=e.colStyle,m=x(e,["prefixCls","children","actions","extra","className","colStyle"]),f=Object(d.useContext)(k),v=f.grid,g=f.itemLayout,O=Object(d.useContext)(j.b).getPrefixCls,y=O("list",a),S=i&&i.length>0&&u.a.createElement("ul",{className:"".concat(y,"-item-action"),key:"actions"},i.map((function(e,t){return u.a.createElement("li",{key:"".concat(y,"-item-action-").concat(t)},e,t!==i.length-1&&u.a.createElement("em",{className:"".concat(y,"-item-action-split")}))}))),w=v?"div":"li",C=u.a.createElement(w,Object(c.a)({},m,v?{}:{ref:t},{className:s()("".concat(y,"-item"),Object(r.a)({},"".concat(y,"-item-no-flex"),!("vertical"===g?o:!function(){var e;return d.Children.forEach(n,(function(t){"string"===typeof t&&(e=!0)})),e&&d.Children.count(n)>1}())),l)}),"vertical"===g&&o?[u.a.createElement("div",{className:"".concat(y,"-item-main"),key:"content"},n,S),u.a.createElement("div",{className:"".concat(y,"-item-extra"),key:"extra"},o)]:[n,S,Object(p.a)(o,{key:"extra"})]);return v?u.a.createElement(h.a,{ref:t,flex:1,style:b},C):C},S=Object(d.forwardRef)(y);S.Meta=function(e){var t=e.prefixCls,a=e.className,n=e.avatar,r=e.title,i=e.description,o=x(e,["prefixCls","className","avatar","title","description"]),l=(0,Object(d.useContext)(j.b).getPrefixCls)("list",t),b=s()("".concat(l,"-item-meta"),a),m=u.a.createElement("div",{className:"".concat(l,"-item-meta-content")},r&&u.a.createElement("h4",{className:"".concat(l,"-item-meta-title")},r),i&&u.a.createElement("div",{className:"".concat(l,"-item-meta-description")},i));return u.a.createElement("div",Object(c.a)({},o,{className:b}),n&&u.a.createElement("div",{className:"".concat(l,"-item-meta-avatar")},n),(r||i)&&m)};var w=S,C=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a},k=d.createContext({});k.Consumer;function I(e){var t,a=e.pagination,l=void 0!==a&&a,u=e.prefixCls,h=e.bordered,p=void 0!==h&&h,x=e.split,y=void 0===x||x,S=e.className,w=e.children,I=e.itemLayout,z=e.loadMore,N=e.grid,P=e.dataSource,E=void 0===P?[]:P,L=e.size,F=e.header,T=e.footer,J=e.loading,V=void 0!==J&&J,D=e.rowKey,R=e.renderItem,K=e.locale,A=C(e,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),M=l&&"object"===Object(o.a)(l)?l:{},B=d.useState(M.defaultCurrent||1),$=Object(i.a)(B,2),_=$[0],U=$[1],q=d.useState(M.defaultPageSize||10),Q=Object(i.a)(q,2),G=Q[0],H=Q[1],W=d.useContext(j.b),X=W.getPrefixCls,Y=W.renderEmpty,Z=W.direction,ee={},te=function(e){return function(t,a){U(t),H(a),l&&l[e]&&l[e](t,a)}},ae=te("onChange"),ne=te("onShowSizeChange"),ce=X("list",u),re=V;"boolean"===typeof re&&(re={spinning:re});var ie=re&&re.spinning,oe="";switch(L){case"large":oe="lg";break;case"small":oe="sm"}var le=s()(ce,(t={},Object(r.a)(t,"".concat(ce,"-vertical"),"vertical"===I),Object(r.a)(t,"".concat(ce,"-").concat(oe),oe),Object(r.a)(t,"".concat(ce,"-split"),y),Object(r.a)(t,"".concat(ce,"-bordered"),p),Object(r.a)(t,"".concat(ce,"-loading"),ie),Object(r.a)(t,"".concat(ce,"-grid"),!!N),Object(r.a)(t,"".concat(ce,"-something-after-last-item"),!!(z||l||T)),Object(r.a)(t,"".concat(ce,"-rtl"),"rtl"===Z),t),S),se=Object(c.a)(Object(c.a)(Object(c.a)({},{current:1,total:0}),{total:E.length,current:_,pageSize:G}),l||{}),de=Math.ceil(se.total/se.pageSize);se.current>de&&(se.current=de);var ue=l?d.createElement("div",{className:"".concat(ce,"-pagination")},d.createElement(v.a,Object(c.a)({},se,{onChange:ae,onShowSizeChange:ne}))):null,je=Object(n.a)(E);l&&E.length>(se.current-1)*se.pageSize&&(je=Object(n.a)(E).splice((se.current-1)*se.pageSize,se.pageSize));var be=Object.keys(N||{}).some((function(e){return["xs","sm","md","lg","xl","xxl"].includes(e)})),me=Object(f.a)(be),fe=d.useMemo((function(){for(var e=0;e<O.b.length;e+=1){var t=O.b[e];if(me[t])return t}}),[me]),ve=d.useMemo((function(){if(N){var e=fe&&N[fe]?N[fe]:N.column;return e?{width:"".concat(100/e,"%"),maxWidth:"".concat(100/e,"%")}:void 0}}),[null===N||void 0===N?void 0:N.column,fe]),ge=ie&&d.createElement("div",{style:{minHeight:53}});if(je.length>0){var Oe=je.map((function(e,t){return function(e,t){return R?((a="function"===typeof D?D(e):D?e[D]:e.key)||(a="list-item-".concat(t)),ee[t]=a,R(e,t)):null;var a}(e,t)})),he=d.Children.map(Oe,(function(e,t){return d.createElement("div",{key:ee[t],style:ve},e)}));ge=N?d.createElement(m.a,{gutter:N.gutter},he):d.createElement("ul",{className:"".concat(ce,"-items")},Oe)}else w||ie||(ge=function(e,t){return d.createElement("div",{className:"".concat(e,"-empty-text")},K&&K.emptyText||t("List"))}(ce,Y||b.a));var pe=se.position||"bottom",xe=d.useMemo((function(){return{grid:N,itemLayout:I}}),[JSON.stringify(N),I]);return d.createElement(k.Provider,{value:xe},d.createElement("div",Object(c.a)({className:le},A),("top"===pe||"both"===pe)&&ue,F&&d.createElement("div",{className:"".concat(ce,"-header")},F),d.createElement(g.a,Object(c.a)({},re),ge,w),T&&d.createElement("div",{className:"".concat(ce,"-footer")},T),z||("bottom"===pe||"both"===pe)&&ue))}I.Item=w;t.b=I},1248:function(e,t,a){"use strict";var n=a(88),c=a(76),r=a(127),i=a(0);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=Object(c.d)((function(t){return t.ProblemSetReducer.problemSetInfo[e]})),o=Object(c.d)((function(t){return t.ProblemSetReducer.problemSetInfo[e+"-cache"]})),l=Object(c.c)(),s=Object(i.useState)(),d=Object(n.a)(s,2),u=d[0],j=d[1],b=Object(i.useState)(),m=Object(n.a)(b,2),f=m[0],v=m[1];return Object(i.useEffect)((function(){u!==e?(void 0===o&&void 0===a?(l({type:"setProblemSetInfo",key:e+"-cache",data:!0}),r.a.getProblemSetInfo({psid:parseInt(e)}).then((function(t){l({type:"setProblemSetInfo",key:e,data:t}),l({type:"setProblemSetInfo",key:e+"-cache",data:void 0}),v(t)})).catch((function(e){t&&t(e)}))):v(a),j(e)):v(a)}),[a,e]),f}},1259:function(e,t,a){"use strict";var n=a(1094),c=a(123),r=a(61),i=(a(0),a(6));t.a=function(e){var t,a,o=e.value,l=e.onChange;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(n.a,{checked:1===o,onChange:function(e){l(e?1:0)},checkedChildren:null!==(t=e.ck)&&void 0!==t?t:Object(i.jsx)(c.a,{}),unCheckedChildren:null!==(a=e.unck)&&void 0!==a?a:Object(i.jsx)(r.a,{})})})}},1330:function(e,t,a){"use strict";var n=a(88),c=a(984),r=a(62),i=a(80),o=a(1032),l=a(0),s=a(6);t.a=function(e){var t,a,d,u=Object(l.useState)(240),j=Object(n.a)(u,2),b=j[0],m=j[1],f=Object(l.useState)(!1),v=Object(n.a)(f,2),g=v[0],O=v[1];return Object(l.useEffect)((function(){m(240)}),[e.description,e.answer]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{children:Object(s.jsx)(c.a,{title:Object(s.jsx)(i.a,{level:5,children:" \u539f\u95ee\u9898 "}),style:{marginTop:24},extra:Object(s.jsx)(r.a,{type:"default",onClick:function(){m(998244353===b?240:998244353)},children:998244353===b?"\u6536\u9f50\u5168\u6587":"\u5c55\u5f00\u5168\u6587"}),children:Object(s.jsx)(o.a,{id:"proDescription",text:(null!==(t=null===e||void 0===e?void 0:e.description)&&void 0!==t?t:"").substr(0,b)})})}),Object(s.jsxs)(c.a,{title:Object(s.jsx)(i.a,{level:5,children:" \u5b66\u751f\u7b54\u6848 "}),style:{marginTop:24},extra:Object(s.jsx)(r.a,{type:"default",onClick:function(){O(!g)},children:g?"\u663e\u793a\u6e32\u67d3":"\u663e\u793a\u539f\u6587"}),children:[g&&Object(s.jsx)("pre",{children:null===e||void 0===e||null===(a=e.answer)||void 0===a?void 0:a[0]}),!g&&Object(s.jsx)(o.a,{id:"userAnswer",text:null===e||void 0===e||null===(d=e.answer)||void 0===d?void 0:d[0]})]})]})}},1399:function(e,t,a){},1425:function(e,t,a){"use strict";a.r(t);var n=a(31),c=a(139),r=a(88),i=a(62),o=a(974),l=a(1006),s=a(307),d=a(174),u=a(978),j=a(981),b=a(982),m=a(984),f=a(120),v=a(0),g=(a(1399),a(421)),O=a(1028),h=a(985),p=a(202),x=a(123),y=a(61),S=a(1032),w=a(6),C=Object(g.a)()((function(e){var t=e.reviewInfo,a=e.setReviewInfo,r=function(e,r){var i,o,l=Object(n.a)({},t),s=e.split("-"),d="";l[e]=null!==(i=l[e])&&void 0!==i?i:0,l[0]=(null!==(o=l[0])&&void 0!==o?o:0)-l[e]+r;var u,j=Object(c.a)(s);try{for(j.s();!(u=j.n()).done;){var b;l[d+=u.value]=(null!==(b=l[d])&&void 0!==b?b:0)+r-l[e],d+="-"}}catch(m){j.e(m)}finally{j.f()}a(l)};return Object(w.jsx)(w.Fragment,{children:function e(a){var n;return Object(w.jsxs)(m.a,{title:a.title,size:"small",bordered:!1,children:[Object(w.jsx)("div",{style:{float:"right"},children:Object(w.jsxs)(o.b,{children:[void 0===a.children&&Object(w.jsxs)(o.b,{children:[Object(w.jsx)(i.a,{type:"primary",shape:"round",size:"small",icon:Object(w.jsx)(x.a,{}),onClick:function(){r(a.key,a.score)}}),Object(w.jsx)(i.a,{type:"primary",shape:"round",size:"small",danger:!0,icon:Object(w.jsx)(y.a,{}),onClick:function(){r(a.key,0)}})]}),Object(w.jsxs)("span",{children:["0"===a.key?"\u603b\u5206\uff1a":"\u5206\u6570\uff1a",void 0===a.children&&Object(w.jsx)(O.a,{style:{width:64},size:"small",min:0,max:a.score,value:t[a.key],onChange:function(e){r(a.key,e)}}),void 0!==a.children&&(null!==(n=t[a.key])&&void 0!==n?n:0)," ","/ ",a.score]})]})}),Object(w.jsx)("div",{style:{marginTop:32},children:void 0===a.children?Object(w.jsxs)(w.Fragment,{children:[void 0!==a.answer&&Object(w.jsx)(h.a,{message:Object(w.jsx)(S.a,{id:"problemReview-answer-".concat(a.key),text:a.answer}),type:"success"}),function(){if(void 0!==a.info)return Object(w.jsx)(p.a.Group,{onChange:function(e){r(a.key,e.target.value)},value:t[a.key],children:Object(w.jsx)(j.a,{children:a.info&&a.info.map((function(e){return Object(w.jsx)(b.a,{span:12,children:Object(w.jsxs)(p.a,{value:e[0],children:[" ",e[0],"\u5206 ",e[1]]})})}))})})}()]}):a.children.map((function(t){return e(t)}))})]})}(e.scoreModeInfo)})})),k=a(1018),I=a(127),z=a(253),N=a(1248),P=a(66),E=a(76),L=a(41),F=a(1330),T=a(1259);t.default=Object(E.b)((function(e){var t;return{username:null===(t=e.UserReducer.userInfo)||void 0===t?void 0:t.username}}),(function(e){return{addTableVersion:function(t){return e({type:"addTableVersion",name:t})}}}))(Object(g.a)()(Object(L.e)((function(e){var t=parseInt(e.match.params.problemSetId),a=Object(N.a)(t.toString()),g=Object(v.useState)({}),O=Object(r.a)(g,2),h=O[0],p=O[1],x=Object(v.useState)({}),y=Object(r.a)(x,2),S=y[0],E=y[1],L=Object(v.useState)(),J=Object(r.a)(L,2),V=J[0],D=J[1],R=Object(v.useState)(!1),K=Object(r.a)(R,2),A=K[0],M=K[1],B=Object(v.useState)(0),$=Object(r.a)(B,2),_=$[0],U=$[1],q=Object(v.useState)(!1),Q=Object(r.a)(q,2),G=Q[0],H=Q[1];Object(v.useEffect)((function(){!1===A&&(p({}),E({}))}),[t,A]);var W=[];if(void 0!==a){var X,Y=Object(c.a)(a.groupInfo);try{for(Y.s();!(X=Y.n()).done;){var Z=X.value;if(1===Z.type){var ee,te=Object(c.a)(Z.problemInfo);try{for(te.s();!(ee=te.n()).done;){var ae=ee.value;W.push({value:"".concat(Z.index,"-").concat(ae.index),label:Z.name+"-"+(ae.index+1).toString()})}}catch(ce){te.e(ce)}finally{te.f()}}}}catch(ce){Y.e(ce)}finally{Y.f()}}var ne=function(e){I.a.getJudgeInfo({psid:t,gid:e.gid,pid:e.pid,username:e.username}).then((function(t){for(var a=0;a<t.judgeConfig.length;a++){var n=t.judgeConfig[a];n.title=n.name,n.key=(a+1).toString()}if(t.judgeConfig={key:"0",score:100,children:t.judgeConfig},t.pid=e.pid,t.gid=e.gid,!Object(P.c)(t.judgeLog)){for(var c=0,r={},i=0;i<t.judgeLog.length;i++){var o=t.judgeLog[i];r[(i+1).toString()]=o.jScore,c+=o.jScore}r[0]=c,p(r)}E(t),D(t.judgeComment),M(!0)}))};return Object(w.jsxs)("div",{style:{marginTop:24},className:"ListPage",children:[Object(w.jsx)(k.a,{name:"problemSetSubjectiveJudgeList",columns:[{title:"\u9898\u76ee\u540d",dataIndex:"name",key:"name"},{title:"\u7528\u6237\u540d",dataIndex:"username",key:"username"},{title:"\u63d0\u4ea4\u65f6\u95f4",dataIndex:"tm_answer_submit",key:"tm_answer_submit",render:function(e){return Object(z.e)(e)}},{title:"\u6279\u9605\u72b6\u6001",dataIndex:"hasJudge",key:"hasJudge",render:function(e){return e?"\u5df2\u6279\u9605":"\u672a\u6279\u9605"}},{title:"\u6279\u9605\u4eba",dataIndex:"judgeLock",key:"judgeLock"},{title:"\u64cd\u4f5c",key:"operator",render:function(e){return Object(w.jsx)(i.a,{type:"link",onClick:function(){ne(e)},children:"\u5f00\u59cb\u6253\u5206"})}}],API:function(e){return I.a.getJudgeList(Object(n.a)({psid:t},e)).then((function(e){if(1===_&&0!==e.rows.length&&G)for(var t=0;t<e.rows.length;t++)if(!e.rows[t].hasJudge){ne(e.rows[t]);break}return H(!1),Promise.resolve(e)}))},size:"small",getForm:function(e){return Object(w.jsxs)(o.b,{size:30,children:[Object(w.jsx)(l.a.Item,{label:"\u7528\u6237\u540d",name:"username",children:Object(w.jsx)(s.a,{onPressEnter:function(){e()}})}),Object(w.jsx)(l.a.Item,{label:"\u6279\u9605\u4eba",name:"judgeLock",children:Object(w.jsx)(s.a,{onPressEnter:function(){e()}})}),Object(w.jsx)(l.a.Item,{label:"\u6279\u9605\u72b6\u6001",name:"hasJudge",children:Object(w.jsx)(d.a,{onChange:e,style:{width:120},allowClear:!0,options:[{value:0,label:"\u672a\u6279\u9605"},{value:1,label:"\u5df2\u6279\u9605"}]})}),Object(w.jsx)(l.a.Item,{label:"\u9898\u76ee",name:"proStr",children:Object(w.jsx)(d.a,{onChange:e,style:{width:240},allowClear:!0,options:W})})]})},useFormBtn:!1}),Object(w.jsx)("div",{style:{marginTop:12,float:"right"},children:Object(w.jsx)("span",{children:"\u63d0\u793a\uff1a\u5982\u679c\u5bf9\u4e3b\u89c2\u9898\u8fdb\u884c\u4e86\u6279\u9605\uff0c\u4f1a\u5bfc\u81f4\u5b66\u751f\u65e0\u6cd5\u518d\u6b21\u63d0\u4ea4\uff0c\u8bf7\u786e\u5b9a\u4f5c\u7b54\u5b8c\u6210\u540e\u518d\u8fdb\u884c\u6279\u9605"})}),Object(w.jsx)(u.a,{title:"\u4e3b\u89c2\u9898\u8bc4\u5206",width:1400,visible:A,maskClosable:!1,onCancel:function(){M(!1),e.addTableVersion("problemSetSubjectiveJudgeList")},footer:!1,destroyOnClose:!0,children:Object(w.jsxs)(j.a,{gutter:24,children:[Object(w.jsx)(b.a,{span:14,children:Object(w.jsx)(F.a,{description:null===S||void 0===S?void 0:S.description,answer:null===S||void 0===S?void 0:S.answer})}),Object(w.jsx)(b.a,{span:10,children:Object(w.jsx)(m.a,{className:"scorePane",title:"\u5206\u6570\u9762\u677f",children:Object(w.jsxs)("div",{children:[Object(w.jsx)(C,{reviewInfo:h,setReviewInfo:p,scoreModeInfo:S.judgeConfig}),Object(w.jsx)(l.a,{layout:"vertical",style:{marginBottom:32},children:Object(w.jsx)(l.a.Item,{label:"\u8bc4\u9605\u5907\u6ce8",children:Object(w.jsx)(s.a.TextArea,{value:V,onChange:function(e){D(e.target.value)}})})}),Object(w.jsx)("div",{style:{marginTop:12,marginBottom:12},children:Object(w.jsx)(l.a.Item,{label:"\u81ea\u52a8\u6253\u5f00\u4e0b\u4e00\u4e2a",children:Object(w.jsx)(T.a,{value:_,onChange:U,ck:"Auto Next",unck:"Manual Next"})})}),Object(w.jsx)(i.a,{disabled:S.judgeLock_username!==e.username,block:!0,type:"primary",onClick:function(){if(Object.keys(h).length<S.judgeConfig.children.length+1)f.b.error("\u5206\u6570\u4e0d\u5b8c\u6574");else{for(var a=[],n=0;n<S.judgeConfig.children.length;n++){var c=S.judgeConfig.children[n];a.push({name:c.name,score:c.score,jScore:h[n+1]})}I.a.updateJudgeInfo({psid:t,gid:S.gid,pid:S.pid,username:S.username,judgeLog:a,judgeComment:V}).then((function(){H(!0),M(!1),e.addTableVersion("problemSetSubjectiveJudgeList")}))}},children:" \u63d0\u4ea4\u5206\u6570 "}),S.judgeLock_username===e.username&&Object(w.jsx)(i.a,{danger:!0,block:!0,type:"primary",style:{marginTop:12},onClick:function(){I.a.updateJudgeInfo({psid:t,gid:S.gid,pid:S.pid,username:S.username,judgeLog:[],cancel:1}).then((function(){M(!1),e.addTableVersion("problemSetSubjectiveJudgeList")}))},children:"\u53d6\u6d88\u8bc4\u6d4b"})]})})})]})})]})}))))}}]);
//# sourceMappingURL=44.5d891394.chunk.js.map