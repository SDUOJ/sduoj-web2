(this.webpackJsonpsduoj=this.webpackJsonpsduoj||[]).push([[42],{1018:function(e,t,a){"use strict";var n=a(31),c=a(88),r=a(984),i=a(1006),o=a(974),l=a(62),s=a(1125),u=a(983),d=a(0),b=a(99),m=a(76),f=a(421),j=a(41),p=a(309),h=a(66),O=a(1376),v=a(6);t.a=Object(m.b)((function(e){var t,a=e.UserReducer,c=e.TableReduce;return{roles:null===(t=a.userInfo)||void 0===t?void 0:t.roles,tableData:Object(n.a)({},c.tableData)}}),(function(e){return{setTableInfo:function(t,a){return e({type:"setTableInfo",name:t,data:a})},setDataSource:function(t,a){return e({type:"setDataSource",data:t,name:a,add:!1})}}}))(Object(f.a)()(Object(j.e)((function(e){var t,a=Object(d.useState)(0),m=Object(c.a)(a,2),f=m[0],j=m[1],g=Object(d.useState)(),x=Object(c.a)(g,2),y=x[0],C=x[1],w=Object(d.useState)(!0),S=Object(c.a)(w,2),N=S[0],I=S[1],P=Object(d.useState)(1),k=Object(c.a)(P,2),T=k[0],F=k[1],E=Object(d.useState)(Object(h.a)(e.defaultPageSize,b.h)),z=Object(c.a)(E,2),D=z[0],A=z[1],M=Object(d.useState)(),V=Object(c.a)(M,2),R=V[0],L=V[1],K=Object(d.useState)(0),H=Object(c.a)(K,2),B=H[0],J=H[1],U=function(t){C(t),void 0!==e.setDataSource&&void 0!==e.name&&e.setDataSource(t,e.name)},q=function(t,a,c,r){var i,o,l,s,u,d,b,m,f,p=null===(i=e.tableData[e.name])||void 0===i?void 0:i.tableInfo;void 0!==p&&(void 0===r&&void 0!==p.moreProps&&W.setFieldsValue(p.moreProps),t=null!==(d=t)&&void 0!==d?d:p.pageNow,a=null!==(b=a)&&void 0!==b?b:p.pageSize,c=null!==(m=c)&&void 0!==m?m:p.searchKey,r=null!==(f=r)&&void 0!==f?f:p.moreProps);var h=null!==(o=t)&&void 0!==o?o:T,O=null!==(l=a)&&void 0!==l?l:D,v=null!==(s=c)&&void 0!==s?s:R,g=null!==(u=r)&&void 0!==u?u:W.getFieldsValue();F(h),A(O),L(v),I(!0),e.API(Object(n.a)({pageNow:h,pageSize:O,searchKey:v},g)).then((function(t){null===t.rows&&(t.rows=[]),void 0!==e.APIRowsTransForm?U(e.APIRowsTransForm(t.rows)):U(t.rows),void 0!==t.totalNum&&"0"!==t.totalNum?(j(t.totalNum),e.name&&e.setTableInfo(e.name,{total:t.totalNum,pageNow:h,pageSize:O,searchKey:v,moreProps:g})):(j(O*t.totalPage),e.name&&e.setTableInfo(e.name,{total:O*t.totalPage,pageNow:h,pageSize:O,searchKey:v,moreProps:g})),I(!1)}))};Object(d.useEffect)((function(){W.setFieldsValue(e.initRequestProps),q()}),[e.name]);var G=Object(O.a)(),W=Object(c.a)(G,1)[0],_=function(){var e=W.getFieldsValue();"{}"!==JSON.stringify(e)&&q(1,D,void 0,e)},Q=function(){var t,a=W.getFieldsValue();W.resetFields();var n=null===(t=e.tableData[e.name])||void 0===t?void 0:t.tableInfo;e.name&&e.setTableInfo(e.name,{total:n.total,pageNow:n.pageNow,pageSize:n.pageSize,searchKey:n.searchKey,moreProps:void 0});var c=W.getFieldsValue();JSON.stringify(a)!==JSON.stringify(c)&&q(1,D,void 0,void 0)};return Object(d.useEffect)((function(){var t,a=null===(t=e.tableData[e.name])||void 0===t?void 0:t.tableVersion;if(void 0!==a&&B!==a)if(a<0){var n;J(-a),C(null===(n=e.tableData[e.name])||void 0===n?void 0:n.dataSource)}else{J(a);var c=W.getFieldsValue();q(T,D,R,c)}}),[e.tableData,B]),Object(v.jsxs)(v.Fragment,{children:[e.useList&&Object(v.jsx)(r.a,{title:e.title,bordered:!0,size:"default",className:null!==(t=e.cardProps)&&void 0!==t?t:"zeroBodyPaddingLeft",extra:(!0===e.search||void 0!==e.getForm)&&Object(v.jsxs)(v.Fragment,{children:[!0===e.search&&Object(v.jsx)(p.a,{placeholder:e.t("searchUser"),onSearch:function(e){L(e),F(1);var t=W.getFieldsValue();q(1,D,e,t)},enterButton:!0,style:{width:300}},"search"),void 0!==e.getForm&&Object(v.jsxs)(i.a,{form:W,children:[e.getForm(_),e.useFormBtn&&Object(v.jsxs)(o.b,{style:{marginLeft:"30px"},size:20,children:[Object(v.jsx)(l.a,{type:"primary",onClick:_,children:"\u7b5b\u9009"}),Object(v.jsx)(l.a,{htmlType:"button",onClick:Q,children:"\u91cd\u7f6e"})]})]})]}),children:Object(v.jsx)(s.b,{grid:e.grid,itemLayout:"vertical",loading:N,size:e.size,dataSource:y,renderItem:e.renderItem,pagination:{onChange:function(e,t){q(e,t)},current:T,pageSize:D,total:f,size:"small",hideOnSinglePage:!0,showQuickJumper:!0,showLessItems:!0,showSizeChanger:Object(h.a)(e.showSizeChanger,!0),pageSizeOptions:["5","15","20","50","80"]}})}),!e.useList&&Object(v.jsx)(r.a,{bordered:!1,size:"small",extra:(!0===e.search||void 0!==e.getForm)&&Object(v.jsxs)(v.Fragment,{children:[!0===e.search&&Object(v.jsx)(p.a,{placeholder:"\u641c\u7d22",onSearch:function(e){L(e),F(1),q(1,D,e)},enterButton:!0,style:{width:300}},"search"),void 0!==e.getForm&&Object(v.jsxs)(i.a,{form:W,children:[e.getForm(_),Object(v.jsxs)(o.b,{style:{marginLeft:"30px"},size:20,children:[Object(v.jsx)(l.a,{type:"primary",onClick:_,children:e.t("filtering")}),Object(v.jsx)(l.a,{htmlType:"button",onClick:Q,children:e.t("Reset")})]})]})]}),children:Object(v.jsx)(u.a,{rowKey:e.rowKey,loading:N,size:e.size,columns:e.columns,rowSelection:e.rowSelection,dataSource:y,pagination:{onChange:function(e,t){q(e,t)},current:T,pageSize:D,total:f,hideOnSinglePage:!0,showQuickJumper:!0,showLessItems:!0,showSizeChanger:Object(h.a)(e.showSizeChanger,!0),pageSizeOptions:["5","15","20","50","80"]}})})]})}))))},1034:function(e,t,a){"use strict";var n=a(9),c=a(31),r=a(88),i=a(4),o=a.n(i),l=a(0),s=a(76),u=a(421),d=a(41),b=a(120),m=a(62),f=a(978),j=a(1006),p=a(416),h=a(418),O=a(66),v=a(1376),g=a(1205),x=a(6);t.a=Object(s.b)((function(){return{}}),(function(e){return{addTableVersion:function(t){return e({type:"addTableVersion",name:t})},addManageInitData:function(t,a){return e({type:"addManageInitData",key:t,data:a})}}}))(Object(u.a)()(Object(d.e)((function(e){var t,a=Object(v.a)(),i=Object(r.a)(a,1)[0],s=Object(l.useRef)([]),u=Object(l.useState)(!1),d=Object(r.a)(u,2),y=d[0],C=d[1],w=Object(l.useState)(),S=Object(r.a)(w,2),N=S[0],I=S[1],P=Object(l.useState)(0),k=Object(r.a)(P,2),T=k[0],F=k[1];Object(l.useEffect)((function(){setTimeout((function(){!Object(O.c)(s.current)&&s.current.forEach((function(e){var t;null===(t=e.current)||void 0===t||t.setFieldsValue(N)})),i&&i.setFieldsValue(N)}),100),y||(F(0),s.current.forEach((function(e){var t;null===(t=e.current)||void 0===t||t.resetFields()})),e.formName&&e.addManageInitData(e.formName,void 0))}),[y,N]),Object(l.useEffect)((function(){e.formName&&e.addManageInitData(e.formName,N)}),[N]);var E=function(t){var a=function(t){e.updateAppendProps&&Object.assign(t,e.updateAppendProps),e.dataSubmitter(t).then((function(t){e.TableName&&e.addTableVersion(e.TableName),e.afterSubmit&&e.afterSubmit(t),e.onClose&&e.onClose(),C(!1),b.b.success("\u6210\u529f")}))};1===e.subForm.length?i.validateFields().then((function(e){a(e)})).catch((function(){b.b.error("\u8868\u5355\u4e0d\u5b8c\u6574")})):a(t)};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(m.a,Object(c.a)(Object(c.a)({},e.btnProps),{},{type:Object(O.a)(e.btnType,{create:"primary",update:"link",fork:"link",batchUpdate:"primary"}[e.type]),onClick:function(){if("update"===e.type||"fork"===e.type)if(void 0===e.initData){var t=b.b.loading({content:"\u52a0\u8f7d\u4e2d",duration:0});if(void 0===e.dataLoader)return t(),void b.b.error("\u672a\u5b9a\u4e49\u6570\u636e\u52a0\u8f7d\u5668");e.dataLoader&&e.dataLoader().then((function(e){I(e),t(),C(!0)})).catch((function(){t()}))}else I(e.initData),C(!0);else"create"===e.type?(void 0!==e.initData&&I(e.initData),C(!0)):C(!0)},style:"fork"===e.type||"update"===e.type||"link"===e.btnType?{paddingLeft:5,paddingRight:5}:void 0,children:[function(){if(!1!==e.btnIcon){if("create"===e.type)return Object(x.jsx)(p.a,{});if("batchUpdate"===e.type)return Object(x.jsx)(h.a,{})}}(),function(){if(void 0!==e.btnName)return e.btnName;switch(e.type){case"create":return e.t("create");case"update":return e.t("Edit");case"fork":return"\u514b\u9686";default:return"\u6279\u91cf\u4fee\u6539"}}()]})),1===e.subForm.length&&Object(x.jsx)(f.a,{width:e.width,style:{minWidth:e.width},destroyOnClose:!0,title:e.title,className:e.className,visible:y,maskClosable:!1,onCancel:function(){e.onClose&&e.onClose(),C(!1)},footer:[Object(x.jsx)(m.a,{type:"primary",onClick:E,children:e.t("Submit")},"submit")],children:Object(x.jsx)(j.a,{form:i,layout:null!==(t=e.layout)&&void 0!==t?t:"vertical",initialValues:e.initData,scrollToFirstError:!0,preserve:!1,children:e.subForm[0].component})}),1!==e.subForm.length&&Object(x.jsx)(g.b,{current:T,onCurrentChange:function(e){F(e)},formMapRef:s,onFinish:function(){var e=Object(n.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),stepsFormRender:function(t,a){var n;return Object(x.jsx)(f.a,{destroyOnClose:!0,title:e.title,className:e.className,visible:y,maskClosable:!1,width:null!==(n=e.width)&&void 0!==n?n:1200,style:{minWidth:e.width},onCancel:function(){e.onClose&&e.onClose(),C(!1)},footer:a,children:t})},children:e.subForm.map((function(t,a){var c;return Object(x.jsx)(g.b.StepForm,{layout:null!==(c=e.layout)&&void 0!==c?c:"vertical",name:"step"+a,title:t.label,onFinish:Object(n.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)}))),children:t.component})}))})]})}))))},1038:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o}));var n=a(127),c=a(1062),r=a.n(c),i=function(e,t){var a=new FormData,c=0,i=[],o=[];e.forEach((function(e){o.push(e.arrayBuffer().then((function(o){var l=r()(o);return i.push(n.a.getFileByMD5({md5:l}).then((function(n){return null!==n?(t(n),Promise.resolve()):(a.append("files",e),c+=1,Promise.resolve())}))),Promise.resolve()})))})),Promise.all(o).then((function(){Promise.all(i).then((function(){0!==c&&n.a.uploadFile(a).then((function(e){e.map((function(e){t(e)}))}))}))}))},o=function(e,t){var a=new FormData;a.append("file",e),n.a.uploadSingleFile(a).then((function(e){t(e)}))}},1073:function(e,t,a){"use strict";var n=a(1),c=a(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},i=a(14),o=function(e,t){return c.createElement(i.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:r}))};o.displayName="DeleteOutlined";t.a=c.forwardRef(o)},1077:function(e,t,a){"use strict";var n=a(88),c=a(0),r=a(1047),i=a.n(r),o=a(1038),l=a(120),s=a(62),u=a(415),d=a(974),b=a(1092),m=a.n(b),f=a(76),j=a(408),p=a(421),h=a(41),O=a(147),v=a(66),g=a(6),x=function(e){var t=Date.now().toString(),a=Object(j.a)().t;return new m.a("."+e.btnText+t,{text:function(t){return e.text}}).on("success",(function(e){l.b.success(a("ReplicationSuccess"))})),Object(g.jsx)(s.a,{className:e.btnText+t,size:"small",children:e.btnText})},y="https://oj.qd.sdu.edu.cn";t.a=Object(f.b)((function(e){return{langCode:e.ConfigReducer.langCode}}),(function(e){return{}}))(Object(p.a)()(Object(h.e)((function(e){var t,a=Object(c.useState)(void 0),r=Object(n.a)(a,2),s=r[0],b=r[1],m=Object(c.useState)(!1),f=Object(n.a)(m,2),j=f[0],p=f[1];return Object(c.useEffect)((function(){Object(v.c)(e.langCode)||function(){var t,a=new i.a(null!==(t=e.id)&&void 0!==t?t:"vditor",{height:void 0===e.height?800:e.height,mode:"ir",placeholder:"\u652f\u6301 Markdown\uff0c\u652f\u6301 KaTex \u516c\u5f0f\n\u8868\u683c\u63d2\u5165\u4e00\u884c\uff1aCtrl+'+' \n\u8868\u683c\u63d2\u5165\u4e00\u5217\uff1aCtrl+Shift+'+'",lang:e.langCode,cdn:y+"/vditor",outline:{enable:!1,position:"left"},hint:{emojiPath:y+"/vditor/dist/images/emoji"},preview:{delay:500,hljs:{lineNumber:!1},markdown:{toc:!0,mark:!0,footnotes:!0,autoSpace:!0},math:{inlineDigit:!0,engine:"KaTeX"}},toolbar:["emoji","headings","bold","italic","strike","link","|","list","ordered-list","check","outdent","indent","|","quote","line","code","inline-code","insert-before","insert-after","|","upload","table","|","undo","redo","|","outline","fullscreen","edit-mode",{name:"more",toolbar:["code-theme","content-theme","export","help"]},"|",{hotkey:"\u2318-S",name:"save",tipPosition:"s",tip:"\u4fdd\u5b58",className:"right",icon:'<img style="height: 16px" src=\'https://img.58cdn.com.cn/escstatic/docs/imgUpload/idocs/save.svg\' alt="save"/>',click:function(){e.onChange&&e.onChange(a.getValue())}}],after:function(){a.setValue(void 0===e.value?"":e.value),p(!0)},blur:function(){e.onChange&&e.onChange(a.getValue())},upload:{accept:"*/*",multiple:!1,filename:function(e){return e.replaceAll(/[^(a-zA-Z0-9\u4e00-\u9fa5.)]/g,"").replaceAll(/[?\\/:|<>*\[\]()$%{}@~]/g,"").replaceAll("/\\s/g","")},handler:function(e){if(e[0].name.length>64)return l.b.error("\u6587\u4ef6\u540d\u5927\u4e8e 64 \u5b57\u7b26"),Promise.reject("\u6587\u4ef6\u540d\u5927\u4e8e 64 \u5b57\u7b26");Object(o.a)(e,(function(t){var n=e[0]&&e[0].name;n=n.replaceAll(/[^(a-zA-Z0-9\u4e00-\u9fa5.)]/g,"").replaceAll(/[?\\/:|<>*\[\]()$%{}@~]/g,"").replaceAll("/\\s/g","");var c=Object(O.a)().CLIENT_SERVER+"/api/filesys/download/"+t.id+"/"+n,r=n.substr(n.lastIndexOf(".")+1).toUpperCase(),i="";-1!==["BMP","DIB","PCP","DIF","WMF","GIF","JPG","TIF","EPS","PSD","CDR","IFF","TGA","PCD","MPT","PNG"].indexOf(r)?a&&"wysiwyg"===a.vditor.currentMode?i+='\n <img src="'.concat(c,'" alt="').concat(n,'" style="zoom:100%;" />'):i+="\n ![".concat(n,"](").concat(c,")"):a&&"wysiwyg"===a.vditor.currentMode?i+='\n <a href="'.concat(c,'">').concat(n,"</a>"):i+="\n [".concat(n,"](").concat(c,")"),document.execCommand("insertHTML",!1,i),u.a.open({message:"\u6587\u4ef6\u4e0a\u4f20\u6210\u529f",description:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("span",{children:["\u6587\u4ef6\u540d\uff1a",n]}),Object(g.jsx)("br",{}),Object(g.jsxs)(d.b,{children:["\u70b9\u51fb\u590d\u5236\uff1a",Object(g.jsx)(x,{text:c,btnText:"\u7eaf\u8def\u5f84"}),Object(g.jsx)(x,{text:"[".concat(n,"](").concat(c,")"),btnText:"MD\u94fe\u63a5"}),Object(g.jsx)(x,{text:"![".concat(n,"](").concat(c,")"),btnText:"MD\u56fe\u7247"})]}),Object(g.jsx)("br",{}),Object(g.jsxs)(d.b,{children:[Object(g.jsx)(x,{text:'<a href="'.concat(c,'">').concat(n,"</a>"),btnText:"HTML\u94fe\u63a5"}),Object(g.jsx)(x,{text:'<img src="'.concat(c,'" alt="').concat(n,'" style="zoom:100%;" />'),btnText:"HTML\u56fe\u7247"})]})]}),duration:null,type:"success"})}))}}});b(a)}()}),[e.langCode]),Object(c.useEffect)((function(){var t;j&&void 0!==s&&s.getValue()!==e.value&&s.setValue(null!==(t=e.value)&&void 0!==t?t:"")}),[s,e.value,j]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{id:null!==(t=e.id)&&void 0!==t?t:"vditor",className:"vditor"})})}))))},1078:function(e,t,a){"use strict";var n=a(1006),c=a(307),r=(a(0),a(421)),i=a(6);t.a=Object(r.a)()((function(e){var t,a;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(n.a.Item,{label:null!==(t=e.label)&&void 0!==t?t:e.t("title"),name:null!==(a=e.name)&&void 0!==a?a:"title",required:!0,children:Object(i.jsx)(c.a,{})})})}))},1094:function(e,t,a){"use strict";var n=a(3),c=a(5),r=a(102),i=a(2),o=a.n(i),l=a(7),s=a(8),u=a(13),d=a(0),b=a(98),m=a(42),f=d.forwardRef((function(e,t){var a,n=e.prefixCls,c=void 0===n?"rc-switch":n,r=e.className,i=e.checked,f=e.defaultChecked,j=e.disabled,p=e.loadingIcon,h=e.checkedChildren,O=e.unCheckedChildren,v=e.onClick,g=e.onChange,x=e.onKeyDown,y=Object(u.a)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),C=Object(b.a)(!1,{value:i,defaultValue:f}),w=Object(s.a)(C,2),S=w[0],N=w[1];function I(e,t){var a=S;return j||(N(a=e),null===g||void 0===g||g(a,t)),a}var P=o()(c,r,(a={},Object(l.a)(a,"".concat(c,"-checked"),S),Object(l.a)(a,"".concat(c,"-disabled"),j),a));return d.createElement("button",Object.assign({},y,{type:"button",role:"switch","aria-checked":S,disabled:j,className:P,ref:t,onKeyDown:function(e){e.which===m.a.LEFT?I(!1,e):e.which===m.a.RIGHT&&I(!0,e),null===x||void 0===x||x(e)},onClick:function(e){var t=I(!S,e);null===v||void 0===v||v(t,e)}}),p,d.createElement("span",{className:"".concat(c,"-inner")},S?h:O))}));f.displayName="Switch";var j=f,p=a(39),h=a(67),O=a(46),v=a(198),g=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a},x=d.forwardRef((function(e,t){var a,i=e.prefixCls,l=e.size,s=e.disabled,u=e.loading,b=e.className,m=void 0===b?"":b,f=g(e,["prefixCls","size","disabled","loading","className"]),x=d.useContext(p.b),y=x.getPrefixCls,C=x.direction,w=d.useContext(O.b),S=d.useContext(h.b),N=s||S||u,I=y("switch",i),P=d.createElement("div",{className:"".concat(I,"-handle")},u&&d.createElement(r.a,{className:"".concat(I,"-loading-icon")})),k=o()((a={},Object(c.a)(a,"".concat(I,"-small"),"small"===(l||w)),Object(c.a)(a,"".concat(I,"-loading"),u),Object(c.a)(a,"".concat(I,"-rtl"),"rtl"===C),a),m);return d.createElement(v.a,{insertExtraNode:!0},d.createElement(j,Object(n.a)({},f,{prefixCls:I,className:k,disabled:N,ref:t,loadingIcon:P})))}));x.__ANT_SWITCH=!0;t.a=x},1113:function(e,t,a){"use strict";var n=a(1077),c=a(1006),r=a(6);t.a=function(e){return Object(r.jsx)(c.a.Item,{label:e.label,name:e.name,children:Object(r.jsx)(n.a,{height:500,id:e.id})})}},1125:function(e,t,a){"use strict";a.d(t,"a",(function(){return N}));var n=a(23),c=a(3),r=a(5),i=a(12),o=a(18),l=a(2),s=a.n(l),u=a(0),d=a.n(u),b=a(39),m=a(193),f=a(971),j=a(145),p=a(316),h=a(250),O=a(112),v=a(453),g=a(25),x=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a},y=function(e,t){var a=e.prefixCls,n=e.children,i=e.actions,o=e.extra,l=e.className,m=e.colStyle,f=x(e,["prefixCls","children","actions","extra","className","colStyle"]),j=Object(u.useContext)(N),p=j.grid,h=j.itemLayout,O=Object(u.useContext)(b.b).getPrefixCls,y=O("list",a),C=i&&i.length>0&&d.a.createElement("ul",{className:"".concat(y,"-item-action"),key:"actions"},i.map((function(e,t){return d.a.createElement("li",{key:"".concat(y,"-item-action-").concat(t)},e,t!==i.length-1&&d.a.createElement("em",{className:"".concat(y,"-item-action-split")}))}))),w=p?"div":"li",S=d.a.createElement(w,Object(c.a)({},f,p?{}:{ref:t},{className:s()("".concat(y,"-item"),Object(r.a)({},"".concat(y,"-item-no-flex"),!("vertical"===h?o:!function(){var e;return u.Children.forEach(n,(function(t){"string"===typeof t&&(e=!0)})),e&&u.Children.count(n)>1}())),l)}),"vertical"===h&&o?[d.a.createElement("div",{className:"".concat(y,"-item-main"),key:"content"},n,C),d.a.createElement("div",{className:"".concat(y,"-item-extra"),key:"extra"},o)]:[n,C,Object(g.a)(o,{key:"extra"})]);return p?d.a.createElement(v.a,{ref:t,flex:1,style:m},S):S},C=Object(u.forwardRef)(y);C.Meta=function(e){var t=e.prefixCls,a=e.className,n=e.avatar,r=e.title,i=e.description,o=x(e,["prefixCls","className","avatar","title","description"]),l=(0,Object(u.useContext)(b.b).getPrefixCls)("list",t),m=s()("".concat(l,"-item-meta"),a),f=d.a.createElement("div",{className:"".concat(l,"-item-meta-content")},r&&d.a.createElement("h4",{className:"".concat(l,"-item-meta-title")},r),i&&d.a.createElement("div",{className:"".concat(l,"-item-meta-description")},i));return d.a.createElement("div",Object(c.a)({},o,{className:m}),n&&d.a.createElement("div",{className:"".concat(l,"-item-meta-avatar")},n),(r||i)&&f)};var w=C,S=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a},N=u.createContext({});N.Consumer;function I(e){var t,a=e.pagination,l=void 0!==a&&a,d=e.prefixCls,v=e.bordered,g=void 0!==v&&v,x=e.split,y=void 0===x||x,C=e.className,w=e.children,I=e.itemLayout,P=e.loadMore,k=e.grid,T=e.dataSource,F=void 0===T?[]:T,E=e.size,z=e.header,D=e.footer,A=e.loading,M=void 0!==A&&A,V=e.rowKey,R=e.renderItem,L=e.locale,K=S(e,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),H=l&&"object"===Object(o.a)(l)?l:{},B=u.useState(H.defaultCurrent||1),J=Object(i.a)(B,2),U=J[0],q=J[1],G=u.useState(H.defaultPageSize||10),W=Object(i.a)(G,2),_=W[0],Q=W[1],Z=u.useContext(b.b),$=Z.getPrefixCls,X=Z.renderEmpty,Y=Z.direction,ee={},te=function(e){return function(t,a){q(t),Q(a),l&&l[e]&&l[e](t,a)}},ae=te("onChange"),ne=te("onShowSizeChange"),ce=$("list",d),re=M;"boolean"===typeof re&&(re={spinning:re});var ie=re&&re.spinning,oe="";switch(E){case"large":oe="lg";break;case"small":oe="sm"}var le=s()(ce,(t={},Object(r.a)(t,"".concat(ce,"-vertical"),"vertical"===I),Object(r.a)(t,"".concat(ce,"-").concat(oe),oe),Object(r.a)(t,"".concat(ce,"-split"),y),Object(r.a)(t,"".concat(ce,"-bordered"),g),Object(r.a)(t,"".concat(ce,"-loading"),ie),Object(r.a)(t,"".concat(ce,"-grid"),!!k),Object(r.a)(t,"".concat(ce,"-something-after-last-item"),!!(P||l||D)),Object(r.a)(t,"".concat(ce,"-rtl"),"rtl"===Y),t),C),se=Object(c.a)(Object(c.a)(Object(c.a)({},{current:1,total:0}),{total:F.length,current:U,pageSize:_}),l||{}),ue=Math.ceil(se.total/se.pageSize);se.current>ue&&(se.current=ue);var de=l?u.createElement("div",{className:"".concat(ce,"-pagination")},u.createElement(p.a,Object(c.a)({},se,{onChange:ae,onShowSizeChange:ne}))):null,be=Object(n.a)(F);l&&F.length>(se.current-1)*se.pageSize&&(be=Object(n.a)(F).splice((se.current-1)*se.pageSize,se.pageSize));var me=Object.keys(k||{}).some((function(e){return["xs","sm","md","lg","xl","xxl"].includes(e)})),fe=Object(j.a)(me),je=u.useMemo((function(){for(var e=0;e<O.b.length;e+=1){var t=O.b[e];if(fe[t])return t}}),[fe]),pe=u.useMemo((function(){if(k){var e=je&&k[je]?k[je]:k.column;return e?{width:"".concat(100/e,"%"),maxWidth:"".concat(100/e,"%")}:void 0}}),[null===k||void 0===k?void 0:k.column,je]),he=ie&&u.createElement("div",{style:{minHeight:53}});if(be.length>0){var Oe=be.map((function(e,t){return function(e,t){return R?((a="function"===typeof V?V(e):V?e[V]:e.key)||(a="list-item-".concat(t)),ee[t]=a,R(e,t)):null;var a}(e,t)})),ve=u.Children.map(Oe,(function(e,t){return u.createElement("div",{key:ee[t],style:pe},e)}));he=k?u.createElement(f.a,{gutter:k.gutter},ve):u.createElement("ul",{className:"".concat(ce,"-items")},Oe)}else w||ie||(he=function(e,t){return u.createElement("div",{className:"".concat(e,"-empty-text")},L&&L.emptyText||t("List"))}(ce,X||m.a));var ge=se.position||"bottom",xe=u.useMemo((function(){return{grid:k,itemLayout:I}}),[JSON.stringify(k),I]);return u.createElement(N.Provider,{value:xe},u.createElement("div",Object(c.a)({className:le},K),("top"===ge||"both"===ge)&&de,z&&u.createElement("div",{className:"".concat(ce,"-header")},z),u.createElement(h.a,Object(c.a)({},re),he,w),D&&u.createElement("div",{className:"".concat(ce,"-footer")},D),P||("bottom"===ge||"both"===ge)&&de))}I.Item=w;t.b=I},1309:function(e,t,a){"use strict";var n=a(31),c=(a(0),a(76)),r=a(421),i=a(41),o=a(1093),l=a(62),s=a(1073),u=a(66),d=a(6);t.a=Object(c.b)((function(e){return{tableData:e.TableReduce.tableData}}),(function(e){return{addTableVersion:function(t){return e({type:"addTableVersion",name:t})},setDataSource:function(t,a){return e({type:"setDataSource",name:t,data:a,add:!0})},setSelectedRowKeys:function(t,a){return e({type:"setSelectedRowKeys",data:t,name:a})}}}))(Object(r.a)()(Object(i.e)((function(e){var t,a,c,r=Object(u.a)(null===(t=e.tableData[e.tableName])||void 0===t?void 0:t.selectedRowKeys,[]),i=Object(u.a)(null===(a=e.tableData[e.tableName])||void 0===a?void 0:a.dataSource,[]),b={};return b="inline"===e.type?{type:"link",size:"small"}:{type:"primary",danger:!0,icon:Object(d.jsx)(s.a,{})},Object(d.jsx)(o.a,{title:e.t("deleteConfirm"),onConfirm:function(){void 0!==e.API?e.API(e.data).then((function(t){e.addTableVersion(e.name)})):(e.setDataSource(e.tableName,i.filter((function(t){return e.data!==t[e.rowKey]}))),e.setSelectedRowKeys(r.filter((function(t){return t!==e.data})),e.tableName))},okText:e.t("yes"),cancelText:e.t("no"),children:Object(d.jsxs)(l.a,Object(n.a)(Object(n.a)(Object(n.a)({},b),e.btnProps),{},{children:[" ",null!==(c=e.btnText)&&void 0!==c?c:e.t("delete")," "]}))})}))))},1445:function(e,t,a){"use strict";a.r(t);var n=a(137),c=a(138),r=a(141),i=a(140),o=a(0),l=a(41),s=a(974),u=a(979),d=a(984),b=a(421),m=a(252),f=a(253),j=a(1018),p=a(1309),h=a(1034),O=a(1006),v=a(1094),g=a(6),x=Object(b.a)()((function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(O.a.Item,{name:"top",label:e.t("IsTop"),initialValue:!1,valuePropName:"checked",rules:[{required:!0}],children:Object(g.jsx)(v.a,{checkedChildren:e.t("Top"),unCheckedChildren:e.t("UnTop")})})})})),y=a(1113),C=a(1078),w=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x,{}),Object(g.jsx)(C.a,{}),Object(g.jsx)(y.a,{label:"\u516c\u544a\u5185\u5bb9",name:"text"})]}),a=[{title:"ID",dataIndex:"noticeId",width:50,responsive:["lg","sm","xs"]},{title:this.props.t("title"),dataIndex:"title",width:"auto",responsive:["lg","sm","xs"],render:function(t,a){return Object(g.jsxs)(s.b,{size:5,children:[t,1===a.top&&Object(g.jsx)(u.a,{color:"red",children:e.props.t("Top")})]})}},{title:this.props.t("CreateTime"),dataIndex:"gmtCreate",width:"auto",responsive:["lg","sm"],render:function(e){return Object(f.e)(parseInt(e))}},{title:this.props.t("ModifiedTime"),dataIndex:"gmtModified",width:"auto",responsive:["lg","sm"],render:function(e){return Object(f.e)(parseInt(e))}},{title:this.props.t("Owner"),width:"auto",responsive:["lg"],render:function(e,t){return t.username}},{title:this.props.t("operator"),width:"150px",render:function(e,a){return Object(g.jsxs)(s.b,{size:3,children:[Object(g.jsx)(h.a,{TableName:"Announcement",title:"\u7f16\u8f91 - "+a.title,type:"update",width:1100,subForm:[{component:t}],initData:a,updateAppendProps:{noticeId:a.noticeId,userId:a.userId},dataSubmitter:function(e){return e.top=e.top?1:0,m.a.updateAnnouncement(e)}}),Object(g.jsx)(p.a,{type:"inline",API:m.a.deleteAnnouncement,data:{id:a.noticeId},name:"Announcement"})]})}}];return Object(g.jsx)("div",{style:{marginTop:-20,overflow:"hidden"},children:Object(g.jsx)(d.a,{size:"small",bordered:!0,title:"\u516c\u544a\u5217\u8868",extra:Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(h.a,{TableName:"Announcement",title:"\u65b0\u5efa",type:"create",width:1100,subForm:[{component:t}],dataSubmitter:function(e){return e.top=e.top?1:0,m.a.createAnnouncement(e)}})}),children:Object(g.jsx)(j.a,{name:"Announcement",columns:a,API:m.a.getAnnouncementList,size:"small"})})})}}]),a}(o.Component);t.default=Object(b.a)()(Object(l.e)(w))}}]);
//# sourceMappingURL=42.3360ba73.chunk.js.map