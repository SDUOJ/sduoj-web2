{"version":3,"sources":["Utils/getUrlParams.ts","Pages/Client/CResetPass.tsx"],"names":["getUrlParams","url","obj","index","indexOf","params","substr","parr","split","arr","withRouter","props","token","location","search","useForm","form","t","useTranslation","style","width","textAlign","margin","title","layout","type","block","onClick","validateFields","then","value","CApi","resetPassword","history","push","UrlPrefix","message","success"],"mappings":"iJAAO,SAASA,EAAaC,GACzB,IAAIC,EAAW,GACXC,EAAQF,EAAIG,QAAQ,KACpBC,EAASJ,EAAIK,OAAOH,EAAQ,GAEhC,IAAe,IAAXA,EAAc,CACd,IADc,EACVI,EAAOF,EAAOG,MAAM,KADV,cAEAD,GAFA,IAEd,2BAAoB,CAAC,IACbE,EADY,QACJD,MAAM,KAClBN,EAAIO,EAAI,IAAMA,EAAI,IAJR,+BAOlB,OAAOP,I,qKC0CIQ,uBA5CG,SAACC,GAEf,IAAMC,EAAQZ,YAAaW,EAAME,SAASC,QAAQF,MAClD,EAAeG,cAARC,EAAP,oBACOC,EAAKC,cAALD,EAEP,OACI,mCACI,qBAAKE,MAAO,CAACC,MAAO,QAASC,UAAW,SAAUC,OAAQ,UAA1D,SACI,qBAAKH,MAAO,CAACE,UAAW,QAAxB,SACI,eAAC,IAAD,CACIE,MAAON,EAAE,iBADb,UAGI,cAAC,IAAD,CACIO,OAAQ,WACRR,KAAMA,EAFV,SAII,cAAC,IAAD,MAEJ,cAAC,IAAD,CACIS,KAAM,UACNC,OAAO,EACPC,QAAS,WACLX,EAAKY,iBAAiBC,MAAK,SAACC,GACxBC,IAAKC,cAAL,2BACOF,GADP,IAEIlB,MAAOA,KACRiB,MAAK,WACJlB,EAAMsB,QAAQC,KAAKC,IAAY,UAC/BC,IAAQC,QAAQpB,EAAE,sDAVlC,SAeKA,EAAE","file":"static/js/55.c3fe65ae.chunk.js","sourcesContent":["export function getUrlParams(url: string) {\n    let obj: any = {},\n        index = url.indexOf('?'), // 看url有没有参数\n        params = url.substr(index + 1); // 截取url参数部分 id = 1 & type = 2\n\n    if (index !== -1) { // 有参数时\n        let parr = params.split('&');  // 将参数分割成数组 [\"id = 1 \", \" type = 2\"]\n        for (let i of parr) {           // 遍历数组\n            let arr = i.split('=');  // 1） i id = 1   arr = [id, 1]  2）i type = 2  arr = [type, 2]\n            obj[arr[0]] = arr[1];  // obj[arr[0]] = id, obj.id = 1   obj[arr[0]] = type, obj.type = 2\n        }\n    }\n    return obj\n}","import {Button, Card, Form, message} from \"antd\";\nimport ItemPassword from \"../../Component/user/Form/Item/ItemPassword\";\nimport {getUrlParams} from \"../../Utils/getUrlParams\";\nimport {withRouter} from \"react-router-dom\";\nimport {useForm} from \"antd/es/form/Form\";\nimport CApi from \"Utils/API/c-api\"\nimport {UrlPrefix} from \"../../Config/constValue\";\nimport {useTranslation} from \"react-i18next\";\n\n\nconst ResetPass = (props: any) => {\n\n    const token = getUrlParams(props.location.search).token\n    const [form] = useForm()\n    const {t} = useTranslation()\n\n    return (\n        <>\n            <div style={{width: \"500px\", textAlign: \"center\", margin: \"0 auto\"}}>\n                <div style={{textAlign: \"left\"}}>\n                    <Card\n                        title={t(\"resetPassword\")}\n                    >\n                        <Form\n                            layout={\"vertical\"}\n                            form={form}\n                        >\n                            <ItemPassword/>\n                        </Form>\n                        <Button\n                            type={\"primary\"}\n                            block={true}\n                            onClick={() => {\n                                form.validateFields().then((value) => {\n                                    CApi.resetPassword({\n                                        ...value,\n                                        token: token\n                                    }).then(()=>{\n                                        props.history.push(UrlPrefix + \"/login\")\n                                        message.success(t(\"passwordResetSuccessfully,PleaseLogInAgain\"))\n                                    })\n                                })\n                            }}\n                        >\n                            {t(\"Submit\")}\n                        </Button>\n                    </Card>\n                </div>\n            </div>\n\n        </>\n    )\n}\n\nexport default withRouter(ResetPass)\n"],"sourceRoot":""}