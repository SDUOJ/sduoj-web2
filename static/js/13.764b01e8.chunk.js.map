{"version":3,"sources":["Redux/Action/user.ts","Component/user/Avatar.tsx","Assert/img/logo.png","Component/common/ChangeLang.tsx","Assert/img/language.png","Config/router/routerC.tsx","../node_modules/@ant-design/icons-svg/es/asn/LogoutOutlined.js","../node_modules/@ant-design/icons/es/icons/LogoutOutlined.js","Component/layout/FooterSDU.tsx","Component/layout/CHeader.tsx","Component/layout/CLayout.tsx"],"names":["testLoginTodo","dispatch","getState","CApi","getProfile","then","resData","type","data","catch","err","userLoginTodo","login","r","userLogoutTodo","logout","userGetProfileTodo","UserAvatar","props","undefined","email","shape","src","md5","size","alt","icon","Option","Select","ChangeLang","defLang","initLanguage","i18n","languages","map","value","language","filter","v","id","length","changeLang","bind","changeLanguage","findIndex","item","this","ChangeLanguage","languageMap","code","moment","locale","time","localStorage","setItem","width","onChange","defaultValue","bordered","style","marginLeft","i","name","toString","Component","connect","state","lang","ConfigReducer","langCode","routerC","path","UrlPrefix","exact","component","lazy","router_ProblemSet","routerC_Contest_M","title_i18n","routerC_M","LogoutOutlined","ref","React","AntdIcon","_objectSpread","LogoutOutlinedSvg","displayName","Footer","Layout","copyRight","setCopyRight","withTranslation","withRouter","useEffect","cApi","getCopyright","textAlign","dangerouslySetInnerHTML","__html","Header","CHeader","context","syncSelect","location","pathname","selectedKey","setState","replaceAll","e","history","replace","prevProps","prevState","snapshot","className","position","zIndex","display","justifyContent","flex","marginTop","logo","height","minWidth","mode","theme","selectedKeys","Item","to","t","isLogin","overlay","roles","judgeAuth","RightOutlined","onClick","push","UserOutlined","userLogout","setTimeout","message","info","username","DownOutlined","fontSize","marginBottom","UState","UserReducer","userInfo","testLogin","Content","MLayout","match","Math","max","minHeight","backgroundColor","paddingTop","margin","fallback","Loading","ContestReducer"],"mappings":"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","file":"static/js/13.764b01e8.chunk.js","sourcesContent":["import CApi from \"Utils/API/c-api\"\nimport {UserInfo} from \"../../Type/Iuser\";\nimport {loginInfo} from \"../../Type/types\";\nimport {Dispatch} from \"react\";\nimport {clearRedux} from \"./common\";\n\nexport type UserAction =\n    setUserInfo |\n    userLogin |\n    userLogout |\n    clearRedux\n\n\nexport function testLoginTodo() {\n    return (dispatch: Dispatch<any>, getState: any) => {\n        CApi.getProfile().then((resData) => {\n            dispatch({type: \"setUserInfo\", data: resData as unknown as UserInfo})\n            dispatch({type: \"userLogin\"})\n        }).catch(err => {\n            dispatch({type: \"userLogout\"})\n            dispatch({type: \"clearRedux\"})\n        })\n    }\n}\n\nexport function userLoginTodo(data: loginInfo) {\n    return (dispatch: Dispatch<any>, getState: any) => {\n        CApi.login(data).then((r:any) => {\n            CApi.getProfile().then((resData: any)=>{\n                dispatch({type: \"userLogin\"})\n                dispatch({type: \"setUserInfo\", data: resData})\n            })\n        })\n    }\n}\n\nexport function userLogoutTodo() {\n    return (dispatch: Dispatch<any>, getState: any) => {\n        CApi.logout().then((resData) => {\n            dispatch({type: \"userLogout\"})\n            dispatch({type: \"clearRedux\"})\n        })\n    }\n}\n\n\nexport function userGetProfileTodo() {\n    return (dispatch: Dispatch<any>, getState: any) => {\n        CApi.getProfile().then((resData) => {\n            if (resData !== null) {\n                dispatch({type: \"setUserInfo\", data: resData})\n            }\n        })\n    }\n}\n\nexport interface setUserInfo {\n    type: \"setUserInfo\"\n    data: UserInfo\n}\n\nexport interface userLogin {\n    type: \"userLogin\"\n}\n\nexport interface userLogout {\n    type: \"userLogout\"\n}\n\n\n","import {UserOutlined} from \"@ant-design/icons\";\nimport md5 from \"js-md5\";\nimport React from \"react\";\nimport {Avatar} from \"antd\";\nimport {AvatarSize} from \"antd/es/avatar/SizeContext\";\n\n\ninterface IUserAvatar {\n    email?: string | null\n    size?: AvatarSize\n    shape?: 'circle' | 'square'\n}\n\nconst UserAvatar = (props: IUserAvatar) => {\n    if (props.email !== undefined && props.email !== null) {\n        return (\n            <Avatar\n                shape={props.shape}\n                src={\"https://cravatar.cn/avatar/\" + md5(props.email) +\n                (typeof props.size === \"number\" ? \"?s=\" + props.size : \"\") +\n                (typeof props.size === \"number\" ? \"&d=identicon\": \"?d=identicon\")\n                }\n                alt={\"头像\"}\n                size={props.size}\n            />\n        )\n    } else {\n        return (\n            <Avatar icon={<UserOutlined/>}/>\n        )\n    }\n}\n\nexport default UserAvatar","export default __webpack_public_path__ + \"static/media/logo.871e1201.png\";","import React, {Component, Dispatch} from \"react\";\nimport {Select, Space} from \"antd\";\nimport lang from \"Assert/img/language.png\"\nimport i18n from \"i18next\";\nimport {language, languageMap} from \"../../Config/i18n\";\nimport {connect} from \"react-redux\";\nimport {ConfigState} from \"../../Type/IConfig\";\nimport {ConfigAction} from \"../../Redux/Action/config\";\nimport {Locale} from \"antd/lib/locale-provider\";\nimport moment from 'moment';\nimport 'moment/locale/zh-cn';\nimport {initLanguage} from \"../../Utils/initLanguage\";\n\n\nconst {Option} = Select;\n\nclass ChangeLang extends Component<any, any> {\n    defLang: string = initLanguage()\n\n    constructor(props: any) {\n        super(props);\n        i18n.languages.map((value): void => {\n            if (language.filter((v) => {\n                return v.id === value\n            }).length !== 0) {\n                if (this.defLang.length === 0) this.defLang = value\n            }\n            return undefined\n        })\n        this.changeLang = this.changeLang.bind(this)\n        this.changeLang(this.defLang)\n    }\n\n    changeLang(value: string) {\n        i18n.changeLanguage(value)\n        const id = language.findIndex((item) => {\n            return item.id === value\n        })\n        this.props.ChangeLanguage(languageMap[value], language[id].code)\n        moment.locale(language[id].time);\n        localStorage.setItem('language', language[id].code)\n    }\n\n    render() {\n        return (\n            <>\n                <Space>\n                    <img src={lang} alt={'lang'} width={20}/>\n                    <Select onChange={this.changeLang} defaultValue={this.defLang} bordered={false}\n                            style={{marginLeft: -15}}>\n                        {\n                            language.map((r, i) => {\n                                return (\n                                    <Option key={i.toString()} value={r.id}>{r.name}</Option>\n                                )\n                            })\n                        }\n                    </Select>\n                </Space>\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = (state: any) => {\n    const State: ConfigState = state.ConfigReducer\n    return {\n        lang: State.lang\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch<ConfigAction>) => ({\n    ChangeLanguage: (lang: Locale, langCode: string) => dispatch({\n        type: \"updateLanguage\",\n        lang: lang,\n        langCode: langCode\n    }),\n})\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ChangeLang)\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAlBJREFUWEfFlo0xBEEQhd9FgAgQASJABIgAESACRIAIEAEiQAROBIgAEVDf1vTpmp2/rVO1XaVOzU/369eve3aikW0ycnwNAbAo6UjSraT3/wI+BMCTpE1JX5KWxgDw44IOAV7Eao52A72lw1tuEzZKRpluWlgyANC60HJhwJnVFq0YAKvvAP/Fo6+S1luc+Vp6ilvucuYsCJP/ryTdh4vTINaqn3nERFu+SeIXa6I8RlQCgDCvQx23ExkdhH18Pkji/GArAYDOneDxPNDtAzCMlsPCnqN/EIgaA3fBG10CxfxiPvsPSSuJqKwB8LmEqKYB3x0wQqaYz/4w0fMEfwn6SLE3w1QDQCvhyAwArJ2GhVz2l26wARb2klYDwCVazQJSAlM9e4gzNRXjwZZiqQPUAoBz9PValAJ9f5xIy+vDtgEJ2J61AqCm9LxZLErvODdVk3OiFQAPy34EnzWo9eY18x1a0+4lGWsBkApuQdk7ce3pzxIQMRpzSdZKABDbReh5C0hLoWompJlNwdxo9iXpiTEHAGeP0YvGG4/AMC80Bg0PWW40+3XEvOFrlgJgb4Bvt1QbEZQ/BhSOS6PZ7wGA853FAPwAYR8h0Wq1rxuAwJhZPBsQpyXkmewB8PXiowL6Zmh7Tfy3UBJq6hoftd27EjNAJkw+gPDbYmT22XLQnaFzYLt5Epb8+1GNIHPAGWbWPbP3oWUO1JLzAsu9DeajJ9R5AXjx5V5GnwCCZrZg3TM9LwAcoRdUjmDtozTHGnrhPOUA/PQ/ANRKVNwfHcAv9/p/IZj3OnUAAAAASUVORK5CYII=\"","import {lazy} from \"react\";\nimport {IBaseRouter, IRouter} from \"./router\";\nimport {UrlPrefix} from \"../constValue\";\n\nexport const routerC: IBaseRouter[] = [\n    {\n        id: 2,\n        path: UrlPrefix + \"/login\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CLogin'))\n    },\n    // {\n    //     id: 3,\n    //     path: UrlPrefix + \"/test\",\n    //     exact: true,\n    //     component: lazy(() => import('../../Pages/Client/CTest'))\n    // },\n    {\n        id: 4,\n        path: UrlPrefix + \"/home\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CHome'))\n    },\n    {\n        id: 5,\n        path: UrlPrefix + \"/problem\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CProblem'))\n    },\n    {\n        id: 51,\n        path: UrlPrefix + \"/problem/:ProblemCode\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CProblemInfo'))\n    },\n    {\n        id: 6,\n        path: UrlPrefix + \"/submission\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CSubmissions'))\n    },\n    {\n        id: 7,\n        path: UrlPrefix + \"/contest\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CContest'))\n    },\n    {\n        id: 71,\n        path: UrlPrefix + \"/contest/:contestId\",\n        exact: false,\n        component: lazy(() => import('../../Pages/Client/CContestInfo'))\n    },\n    {\n        id: 8,\n        path: UrlPrefix + \"/group\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CGroup'))\n    },\n    {\n        id: 81,\n        path: UrlPrefix + \"/group/:groupId\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CGroupInfo'))\n    },\n    {\n        id: 9,\n        path: UrlPrefix + \"/user\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CUser'))\n    },\n    {\n        id: 10,\n        path: UrlPrefix + \"/resetpass\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CResetPass'))\n    },\n    {\n        id: 11,\n        path: UrlPrefix + \"/thirdPartyLogin\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CThirdPartyLogin'))\n    },\n    {\n        id: 12,\n        path: UrlPrefix + \"/problemSet/:problemSetId\",\n        exact: false,\n        component: lazy(() => import(\"../../Component/problemSet/PSLayout\"))\n    },\n    {\n        id: 13,\n        path: UrlPrefix + \"/problemSetPublic/:problemSetId\",\n        exact: true,\n        component: lazy(() => import(\"../../Component/problemSet/Public\"))\n    },\n    // {\n    //     id: 7359,\n    //     path: UrlPrefix + \"/hws\",\n    //     exact: true,\n    //     component: lazy(() => import('../../Pages/Ext/Ext-Hws'))\n    // },\n    // {\n    //     id: 7360,\n    //     path: UrlPrefix + \"/hws/:cid\",\n    //     exact: true,\n    //     component: lazy(() => import('../../Pages/Ext/Ext-HwsInfo'))\n    // },\n]\n\nexport const router_ProblemSet: IBaseRouter[] = [\n    {\n        id: 13,\n        path: UrlPrefix + \"/problemSet/:problemSetId/overview\",\n        exact: true,\n        component: lazy(() => import(\"../../Component/problemSet/Overview\"))\n    },\n    {\n        id: 14,\n        path: UrlPrefix + \"/problemSet/:problemSetId/problem/:problemGroupId/:problemId\",\n        exact: true,\n        component: lazy(() => import(\"../../Component/problemSet/Problem\"))\n    },\n    {\n        id: 15,\n        path: UrlPrefix + \"/problemSet/:problemSetId/rank\",\n        exact: true,\n        component: lazy(() => import(\"../../Component/problemSet/Rank\"))\n    },\n    {\n        id: 16,\n        path: UrlPrefix + \"/problemSet/:problemSetId/review\",\n        exact: true,\n        component: lazy(() => import(\"../../Component/problemSet/Review\"))\n    },\n    {\n        id: 17,\n        path: UrlPrefix + \"/problemSet/:problemSetId/submission\",\n        exact: true,\n        component: lazy(() => import(\"../../Component/problemSet/Submission\"))\n    },\n]\n\nexport const routerC_Contest_M: IRouter[] = [\n    {\n        id: 1,\n        title_i18n: \"Overview\",\n        path: UrlPrefix + \"/contest/:contestId/overview\",\n        exact: true,\n        component: lazy(() => import(\"../../Component/contest/Overview\"))\n    },\n    {\n        id: 2,\n        title_i18n: \"Problem\",\n        path: UrlPrefix + \"/contest/:contestId/problem/:problemCode\",\n        exact: true,\n        component: lazy(() => import(\"../../Component/contest/Problem\"))\n    },\n    {\n        id: 3,\n        title_i18n: \"Status\",\n        path: UrlPrefix + \"/contest/:contestId/submission\",\n        exact: true,\n        component: lazy(() => import(\"../../Component/contest/Status\"))\n    },\n    {\n        id: 4,\n        title_i18n: \"Rank\",\n        path: UrlPrefix + \"/contest/:contestId/rank\",\n        exact: true,\n        component: lazy(() => import(\"../../Component/contest/Rank\"))\n    },\n    {\n        id: 5,\n        title_i18n: \"Register\",\n        path: UrlPrefix + \"/contest/:contestId/register\",\n        exact: true,\n        component: lazy(()=> import(\"../../Component/contest/Register\"))\n    }\n]\n\n// C 端目录\nexport const routerC_M: IRouter[] = [\n    {\n        id: 1,\n        title_i18n: \"Home\",\n        path: UrlPrefix + \"/home\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CHome'))\n    },\n    {\n        id: 2,\n        title_i18n: \"Problem\",\n        path: UrlPrefix + \"/problem\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CProblem'))\n    },\n    {\n        id: 3,\n        path: UrlPrefix + \"/submission\",\n        title_i18n: \"Submission\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CSubmissions'))\n    },\n    {\n        id: 4,\n        path: UrlPrefix + \"/contest\",\n        title_i18n: \"Contest\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CContest'))\n    },\n    {\n        id: 5,\n        path: UrlPrefix + \"/group\",\n        title_i18n: \"Group\",\n        exact: true,\n        component: lazy(() => import('../../Pages/Client/CGroup'))\n    },\n    // {\n    //     id: 6,\n    //     path: UrlPrefix + \"/hws\",\n    //     title_i18n: \"文件提交\",\n    //     exact: true,\n    //     component: lazy(() => import('../../Pages/Ext/Ext-Hws'))\n    // },\n    // {\n    //     id: 7,\n    //     path: UrlPrefix + \"/exam\",\n    //     title_i18n: \"考试系统\",\n    //     exact: true,\n    //     component: lazy(() => import('../../Pages/Exam/EList'))\n    // },\n]\n","// This icon file is generated automatically.\nvar LogoutOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z\" } }] }, \"name\": \"logout\", \"theme\": \"outlined\" };\nexport default LogoutOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport LogoutOutlinedSvg from \"@ant-design/icons-svg/es/asn/LogoutOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar LogoutOutlined = function LogoutOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: LogoutOutlinedSvg\n  }));\n};\n\nLogoutOutlined.displayName = 'LogoutOutlined';\nexport default /*#__PURE__*/React.forwardRef(LogoutOutlined);","import React, {Dispatch, useEffect} from \"react\";\nimport {Layout} from \"antd\";\nimport {withTranslation} from \"react-i18next\";\nimport {ConfigState} from \"../../Type/IConfig\";\n\nimport {connect} from \"react-redux\";\nimport {withRouter} from \"react-router\";\nimport cApi from \"../../Utils/API/c-api\";\n\nconst {Footer} = Layout;\n\nconst FooterSDU = (props: any) => {\n\n    useEffect(() => {\n        if (props.copyRight.length === 0) {\n            cApi.getCopyright().then((data: any) => {\n                props.setCopyRight(data)\n            })\n        }\n    }, [props.copyRight])\n\n    return (\n        <>\n            <Footer style={{textAlign: 'center'}}>\n                <div dangerouslySetInnerHTML={{__html: props.copyRight}}/>\n            </Footer>\n        </>\n    )\n\n}\n\nconst mapStateToProps = (state: any) => {\n    const CState: ConfigState = state.ConfigReducer\n    return {\n        copyRight: CState.copyRight\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch<any>) => ({\n    setCopyRight: (data: any) => dispatch({type: \"setCopyRight\", data: data}),\n})\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(\n    withTranslation()(\n        withRouter(FooterSDU)\n    ))\n","import React, {Component, Dispatch} from \"react\";\nimport {Button, Divider, Dropdown, Layout, Menu, message, Space} from \"antd\";\nimport ChangeLang from \"../common/ChangeLang\";\nimport {Link} from \"react-router-dom\";\nimport {DownOutlined, LogoutOutlined, RightOutlined, UserOutlined} from \"@ant-design/icons\";\nimport logo from \"../../Assert/img/logo.png\";\nimport {UserState} from \"../../Type/Iuser\";\nimport {connect} from \"react-redux\";\nimport {withTranslation} from \"react-i18next\";\nimport {withRouter} from \"react-router\";\nimport {testLoginTodo, userLogoutTodo} from \"../../Redux/Action/user\";\nimport UserAvatar from \"../user/Avatar\";\nimport judgeAuth from \"../../Utils/judgeAhtu\";\nimport {routerC_M} from \"../../Config/router/routerC\";\nimport {UrlPrefix} from \"../../Config/constValue\";\n\nconst {Header} = Layout;\n\nclass CHeader extends Component<any, any> {\n    constructor(props: any, context: any) {\n        super(props, context);\n        this.state = {selectedKey: '0'}\n    }\n\n    syncSelect = ()=>{\n        for (let i = 0; i < routerC_M.length; i++) {\n            if (this.props.location.pathname === routerC_M[i].path) {\n                if (this.state.selectedKey !== routerC_M[i].id.toString()) {\n                    this.setState({\n                        selectedKey: routerC_M[i].id.toString()\n                    })\n                }\n            }\n        }\n    }\n\n    componentDidMount() {\n        this.syncSelect()\n        try{\n            \"test\".replaceAll(\"t\", \"1\")\n        }catch (e){\n            this.props.history.replace(UrlPrefix + \"/error/browser\")\n        }\n    }\n\n    componentDidUpdate(prevProps: Readonly<any>, prevState: Readonly<any>, snapshot?: any) {\n        this.syncSelect()\n    }\n\n    render() {\n        return (\n            <Header className=\"site-layout-sub-header-background\"\n                    style={{position: 'fixed', zIndex: 1, width: '100%', display: \"flex\", justifyContent: \"space-between\"}}>\n                <div className=\"logo\" style={{flex: \"125px 0 0\", marginTop: \"-5px\", marginLeft: \"-10px\"}} key={\"logo\"}>\n                    <img src={logo} style={{width: \"125px\", height: '30px'}}\n                         alt={\"SDUOJ-logo\"}/>\n                </div>\n                <div style={{minWidth: 0, flex: \"auto\"}}>\n                    <Menu\n                        mode=\"horizontal\"\n                        theme={\"light\"}\n                        selectedKeys={[this.state.selectedKey]}\n                        style={{}}\n                    >\n                        {\n                            routerC_M.map((r, i) => {\n                                return (\n                                    <Menu.Item key={r.id} icon={r.icon}>\n                                        <Link to={r.path}>{this.props.t(r.title_i18n)}</Link>\n                                    </Menu.Item>\n                                )\n\n                            })\n                        }\n                    </Menu>\n                </div>\n                <div style={{flex: \"0\"}} key={\"operator\"}>\n                    <Space size={30}>\n                        {/*<Button type={\"text\"} onClick={()=>{*/}\n                        {/*    this.props.history.replace(\"/home\")*/}\n                        {/*    window.location.reload()*/}\n                        {/*}}>返回老版</Button>*/}\n                        <ChangeLang/>\n                        {\n                            [''].map(() => {\n                                if (this.props.isLogin) {\n                                    return (\n                                        <Dropdown overlay={\n                                            <Menu>\n                                                {\n                                                    this.props.roles !== undefined &&\n                                                    judgeAuth(this.props.roles, [\"admin\", \"superadmin\"]) &&\n                                                    (\n                                                        <Menu.Item\n                                                            key=\"0\"\n                                                            icon={<RightOutlined />}\n                                                            onClick={() => {\n                                                                this.props.history.push(UrlPrefix + \"/manage\")\n                                                            }}\n                                                        >\n                                                            {this.props.t(\"toManage\")}\n                                                        </Menu.Item>\n                                                    )\n                                                }\n                                                <Menu.Item\n                                                    key=\"1\"\n                                                    icon={<UserOutlined/>}\n                                                    onClick={() => {\n                                                        this.props.history.push(UrlPrefix + \"/user\")\n                                                    }}\n                                                >\n                                                    {this.props.t(\"Profile\")}\n                                                </Menu.Item>\n                                                <Menu.Item\n                                                    key=\"2\"\n                                                    icon={<LogoutOutlined/>}\n                                                    onClick={()=>{\n                                                        this.props.userLogout()\n                                                        setTimeout(()=>{\n                                                            this.props.history.push(UrlPrefix + \"/home\")\n                                                        }, 200)\n                                                        message.info(\"已退出登录\")\n                                                    }}\n                                                >\n                                                    {this.props.t(\"Logout\")}\n                                                </Menu.Item>\n                                            </Menu>\n                                        }>\n                                            <Button type=\"text\" size={\"large\"}>\n                                                <Space>\n                                                    <div style={{marginTop: -10}}>\n                                                        <UserAvatar email={this.props.email}/>\n                                                        <Divider type=\"vertical\"/>\n                                                        {this.props.username}\n                                                    </div>\n                                                    <DownOutlined style={{fontSize: 10, marginBottom: 20}}/>\n                                                </Space>\n                                            </Button>\n                                        </Dropdown>\n                                    )\n                                } else {\n                                    return (\n                                        <>\n                                            <Space>\n                                                <Button type={\"text\"} onClick={()=>{\n                                                    this.props.history.push(UrlPrefix + \"/login?to=\" + this.props.location.pathname)\n                                                }}>登录 / 注册</Button>\n                                            </Space>\n                                        </>\n                                    )\n                                }\n                            })\n                        }\n                    </Space>\n                </div>\n            </Header>\n        )\n    }\n}\n\n\nconst mapStateToProps = (state: any) => {\n    const UState: UserState = state.UserReducer\n\n    return {\n        isLogin: UState.isLogin,\n        username: UState.userInfo?.username,\n        email: UState.userInfo?.email,\n        roles: UState.userInfo?.roles\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch<any>) => ({\n    testLogin: () => dispatch(testLoginTodo()),\n    userLogout: () => dispatch(userLogoutTodo()),\n})\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(\n    withTranslation()(\n        withRouter(CHeader)\n    ))","import React, {Component, Dispatch, Suspense} from \"react\";\nimport {Layout} from \"antd\";\nimport Loading from \"../../Utils/Loading\";\nimport {Route} from \"react-router-dom\";\nimport {withTranslation} from \"react-i18next\";\nimport {connect} from \"react-redux\";\nimport {withRouter} from \"react-router\";\nimport FooterSDU from \"./FooterSDU\";\nimport CHeader from \"./CHeader\";\nimport {testLoginTodo} from \"../../Redux/Action/user\";\nimport {routerC} from \"../../Config/router/routerC\";\nimport {ContestState} from \"../../Redux/Action/contest\";\nimport {UrlPrefix} from \"../../Config/constValue\";\n\nconst {Content} = Layout;\n\nclass MLayout extends Component<any, any> {\n\n    componentDidMount() {\n        if (this.props.location.pathname === UrlPrefix || this.props.location.pathname === UrlPrefix + '/') {\n            this.props.history.push(UrlPrefix + \"/home\");\n        }\n        this.props.testLogin()\n    }\n\n    render() {\n\n        let minWidth = 500\n        if (this.props.location.pathname.match(/\\/contest\\/.*\\/rank/g) !== null) {\n            minWidth = Math.max(500, (this.props.minWidth ?? 0) + 100)\n        }\n\n        return (\n            <>\n                <Layout style={{height: \"max-content\", minHeight: \"100%\", minWidth: \"1300px\"}}>\n                    <Layout style={{minWidth: minWidth}}>\n                        <CHeader/>\n                        <Content style={{\n                            backgroundColor: \"#ffffff\",\n                            paddingTop: 64,\n                            margin: '20px 16px 0',\n                            display: \"table\",\n                            height: \"auto\"\n                        }}>\n                            <Suspense fallback={<Loading/>}>\n                                {routerC.map(({id, path, exact, component}) => {\n                                    return (\n                                        <Route\n                                            key={id} path={path} exact={exact}\n                                            component={component}/>\n                                    )\n                                })}\n                            </Suspense>\n                        </Content>\n                        <FooterSDU/>\n                    </Layout>\n                </Layout>\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = (state: any) => {\n    const CState: ContestState = state.ContestReducer\n    return {\n        minWidth: CState.minWidth\n    }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch<any>) => ({\n    testLogin: () => dispatch(testLoginTodo())\n})\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withTranslation()(withRouter(MLayout)))"],"sourceRoot":""}