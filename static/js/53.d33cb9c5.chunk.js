(this.webpackJsonpsduoj=this.webpackJsonpsduoj||[]).push([[53],{1031:function(e,t,n){"use strict";var i=n(66),r=n(1086),c=n.n(r),o=n(63),a="https://oj.qd.sdu.edu.cn";var l=n(0),s=n(6);t.a=function(e){var t=Object(l.useState)(!1),n=Object(i.a)(t,2),r=n[0],d=n[1],u=Object(l.useState)(!1),b=Object(i.a)(u,2),m=b[0],j=b[1];return Object(l.useEffect)((function(){Object(o.c)(e.text)||r||m===e.text||(d(!0),j(e.text),function(e,t){var n,i,r;(Object(o.c)(e)||Object(o.c)(null===(n=e)||void 0===n?void 0:n.trim()))&&(e=""),e=null===(r=e=null===(i=e)||void 0===i?void 0:i.replaceAll(/`{3}\n([-|0-9a-zA-Z])/g,"```plaintext\n$1"))||void 0===r?void 0:r.replaceAll(/\$\n(.*)\n\$/g,"$ $1 $");var l={mode:"light",cdn:a+"/vditor",emojiPath:a+"/vditor/dist/images/emoji",theme:{path:a+"/vditor/dist/css/content-theme"},hljs:{lineNumber:!1},markdown:{toc:!0,mark:!0,footnotes:!0,autoSpace:!0},math:{inlineDigit:!0,engine:"KaTeX"}};return c.a.preview(document.getElementById(t),e,l)}(e.text,e.id).then((function(e){d(!1)})))}),[e.id,e.text,r]),Object(s.jsx)("div",{id:e.id,style:{overflowY:"hidden"}})}},1240:function(e,t,n){"use strict";var i=n(66),r=n(71),c=n(105),o=n(0);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=Object(r.d)((function(t){return t.ProblemSetReducer.problemSetInfo[e]})),a=Object(r.d)((function(t){return t.ProblemSetReducer.problemSetInfo[e+"-cache"]})),l=Object(r.c)(),s=Object(o.useState)(),d=Object(i.a)(s,2),u=d[0],b=d[1],m=Object(o.useState)(),j=Object(i.a)(m,2),p=j[0],f=j[1];return Object(o.useEffect)((function(){u!==e?(void 0===a&&void 0===n?(l({type:"setProblemSetInfo",key:e+"-cache",data:!0}),c.a.getProblemSetInfo({psid:parseInt(e)}).then((function(t){l({type:"setProblemSetInfo",key:e,data:t}),l({type:"setProblemSetInfo",key:e+"-cache",data:void 0}),f(t)})).catch((function(e){t&&t(e)}))):f(n),b(e)):f(n)}),[n,e]),p}},1423:function(e,t,n){"use strict";n.r(t);var i=n(66),r=n(43),c=n(252),o=n(991),a=n(64),l=n(1438),s=n(63),d=n(1031),u=n(0),b=n(1240),m=n(91),j=n(71),p=n(312),f=n(178),h=n(6),v=Object(j.b)((function(e){var t;return{roles:null===(t=e.UserReducer.userInfo)||void 0===t?void 0:t.roles}}),(function(e){return{}}))(Object(p.a)()(Object(r.e)((function(e){var t=e.match.params.problemSetId,n=e.location.pathname,r=Object(b.a)(t,(function(){e.history.replace(m.g+"/problemSetPublic/"+t)})),j=[{name:"\u603b\u89c8",link:m.g+"/problemSet/"+t+"/overview",re:/\/problemSet\/.*\/overview/g},{name:"\u9898\u76ee",link:m.g+"/problemSet/"+t+"/problem/0/0",re:/\/problemSet\/.*\/problem/g},{name:"\u8bc4\u9605",link:m.g+"/problemSet/"+t+"/review",re:/\/problemSet\/.*\/review/g},{name:"\u699c\u5355",link:m.g+"/problemSet/"+t+"/rank",re:/\/problemSet\/.*\/rank/g},{name:"\u63d0\u4ea4\u5217\u8868",link:m.g+"/problemSet/"+t+"/submission",re:/\/problemSet\/.*\/submission/g}],p=Object(u.useState)(),v=Object(i.a)(p,2),O=v[0],g=v[1],x=["\u603b\u89c8","\u9898\u76ee"];return!0===(null===r||void 0===r?void 0:r.isAdmin)&&x.push("\u8bc4\u9605","\u63d0\u4ea4\u5217\u8868","\u699c\u5355"),Object(u.useEffect)((function(){null!==n.match(/\/problemSet\/[0-9]*\/?$/g)&&e.history.replace(j[0].link),j.map((function(e){null!==n.match(e.re)&&g(e.name)}))}),[n]),Object(h.jsx)(h.Fragment,{children:void 0!==r&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(o.a,{style:{marginTop:25},extra:Object(h.jsx)("div",{style:{marginTop:12}}),title:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(c.b,{to:m.g+"/group/".concat(r.groupId),children:Object(h.jsx)(a.a,{size:"small",icon:Object(h.jsx)(f.a,{}),children:" \u8fd4\u56de "})})}),children:[1===r.config.useSameSE&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{style:{textAlign:"center"},children:Object(h.jsx)("span",{style:{fontWeight:"bold",fontSize:"1.45rem"},children:Object(h.jsx)("span",{style:{paddingRight:10},children:r.name})})})}),!Object(s.c)(r.description)&&!Object(s.c)(r.description.trim())&&Object(h.jsx)(d.a,{id:"problemSet-markdownDescription",text:r.description.trim()})]}),Object(h.jsx)(l.a,{block:!0,options:x,value:O,onChange:function(t){j.map((function(n){n.name===t&&e.history.push(n.link)}))}})]})})})))),O=n(338),g=n(1292),x=n(1097),S=n(1415);t.default=Object(j.b)((function(e){var t,n,i=e.ContestReducer,r=e.UserReducer;return{minWidth:i.minWidth,realName:null===(t=r.userInfo)||void 0===t?void 0:t.nickname,sduId:null===(n=r.userInfo)||void 0===n?void 0:n.username}}),(function(e){return{}}))(Object(p.a)()(Object(r.e)((function(e){var t,n=500,c=Object(u.useState)(null===(t=document.querySelector("body"))||void 0===t?void 0:t.clientWidth),o=Object(i.a)(c,2),a=o[0],l=o[1];Object(u.useEffect)((function(){return window.addEventListener("resize",d),function(){window.removeEventListener("resize",d)}}));var s,d=function(e){l(e.target.innerWidth)};null!==e.location.pathname.match(/\/problemSet\/.*\/rank/g)&&(n=Math.max(500,(null!==(s=e.minWidth)&&void 0!==s?s:0)+100));var b=Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(v,{}),Object(h.jsx)(u.Suspense,{fallback:Object(h.jsx)(O.a,{}),children:g.d.map((function(e){var t=e.id,n=e.path,i=e.exact,c=e.component;return Object(h.jsx)(r.a,{path:n,exact:i,component:c},t)}))})]});return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(x.a,{jump:!0}),Object(h.jsx)("div",{style:n<=1500?{textAlign:"center",margin:"0 auto"}:void 0,children:Object(h.jsx)("div",{style:n<=1500?{textAlign:"left",maxWidth:"1500px",margin:"0 auto"}:{textAlign:"left",maxWidth:"1500px",marginLeft:Math.max(0,(a-n)/2)},children:Object(h.jsx)(S.a,{rotate:-25,gapX:200,gapY:200,offsetLeft:20,content:e.realName+" "+e.sduId,fontColor:"rgba(212, 212, 212, 0.5)",fontSize:18,zIndex:500,children:b})})})]})}))))}}]);
//# sourceMappingURL=53.d33cb9c5.chunk.js.map