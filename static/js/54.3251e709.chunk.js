(this.webpackJsonpsduoj=this.webpackJsonpsduoj||[]).push([[54],{1032:function(e,t,n){"use strict";var i=n(88),r=n(1095),c=n.n(r),o=n(66),a="https://oj.qd.sdu.edu.cn";var s=n(0),l=n(6);t.a=function(e){var t=Object(s.useState)(!1),n=Object(i.a)(t,2),r=n[0],u=n[1],d=Object(s.useState)(!1),b=Object(i.a)(d,2),j=b[0],m=b[1];return Object(s.useEffect)((function(){Object(o.c)(e.text)||r||j===e.text||(u(!0),m(e.text),function(e,t){var n,i,r;(Object(o.c)(e)||Object(o.c)(null===(n=e)||void 0===n?void 0:n.trim()))&&(e=""),e=null===(r=e=null===(i=e)||void 0===i?void 0:i.replaceAll(/`{3}\n([-|0-9a-zA-Z])/g,"```plaintext\n$1"))||void 0===r?void 0:r.replaceAll(/\$\n(.*)\n\$/g,"$ $1 $");var s={mode:"light",cdn:a+"/vditor",emojiPath:a+"/vditor/dist/images/emoji",theme:{path:a+"/vditor/dist/css/content-theme"},hljs:{lineNumber:!1},markdown:{toc:!0,mark:!0,footnotes:!0,autoSpace:!0},math:{inlineDigit:!0,engine:"KaTeX"}};return c.a.preview(document.getElementById(t),e,s)}(e.text,e.id).then((function(e){u(!1)})))}),[e.id,e.text,r]),Object(l.jsx)("div",{id:e.id,style:{overflowY:"hidden"}})}},1071:function(e,t,n){"use strict";var i=n(41),r=n(0),c=n(76),o=n(421),a=n(127),s=n(99),l=n(6);t.a=Object(c.b)((function(e){return{isLogin:e.UserReducer.isLogin}}),(function(e){return{setUserInfo:function(t){return e(t)},userLogin:function(t){return e(t)}}}))(Object(o.a)()(Object(i.e)((function(e){return Object(r.useEffect)((function(){!1===e.isLogin&&a.a.getProfile().then((function(t){e.setUserInfo({type:"setUserInfo",data:t}),e.userLogin({type:"userLogin"})})).catch((function(){e.history.replace(s.g+"/login?to="+e.location.pathname)}))}),[e.isLogin]),Object(l.jsx)(l.Fragment,{})}))))},1248:function(e,t,n){"use strict";var i=n(88),r=n(76),c=n(127),o=n(0);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=Object(r.d)((function(t){return t.ProblemSetReducer.problemSetInfo[e]})),a=Object(r.d)((function(t){return t.ProblemSetReducer.problemSetInfo[e+"-cache"]})),s=Object(r.c)(),l=Object(o.useState)(),u=Object(i.a)(l,2),d=u[0],b=u[1],j=Object(o.useState)(),m=Object(i.a)(j,2),f=m[0],p=m[1];return Object(o.useEffect)((function(){d!==e?(void 0===a&&void 0===n?(s({type:"setProblemSetInfo",key:e+"-cache",data:!0}),c.a.getProblemSetInfo({psid:parseInt(e)}).then((function(t){s({type:"setProblemSetInfo",key:e,data:t}),s({type:"setProblemSetInfo",key:e+"-cache",data:void 0}),p(t)})).catch((function(e){t&&t(e)}))):p(n),b(e)):p(n)}),[n,e]),f}},1423:function(e,t,n){"use strict";n.r(t);var i=n(88),r=n(41),c=n(249),o=n(984),a=n(62),s=n(1437),l=n(66),u=n(1032),d=n(0),b=n(1248),j=n(99),m=n(76),f=n(421),p=n(175),h=n(6),O=Object(m.b)((function(e){var t;return{roles:null===(t=e.UserReducer.userInfo)||void 0===t?void 0:t.roles}}),(function(e){return{}}))(Object(f.a)()(Object(r.e)((function(e){var t=e.match.params.problemSetId,n=e.location.pathname,r=Object(b.a)(t,(function(){e.history.replace(j.g+"/problemSetPublic/"+t)})),m=[{name:"\u603b\u89c8",link:j.g+"/problemSet/"+t+"/overview",re:/\/problemSet\/.*\/overview/g},{name:"\u9898\u76ee",link:j.g+"/problemSet/"+t+"/problem/0/0",re:/\/problemSet\/.*\/problem/g},{name:"\u8bc4\u9605",link:j.g+"/problemSet/"+t+"/review",re:/\/problemSet\/.*\/review/g},{name:"\u699c\u5355",link:j.g+"/problemSet/"+t+"/rank",re:/\/problemSet\/.*\/rank/g},{name:"\u63d0\u4ea4\u5217\u8868",link:j.g+"/problemSet/"+t+"/submission",re:/\/problemSet\/.*\/submission/g}],f=Object(d.useState)(),O=Object(i.a)(f,2),g=O[0],v=O[1],x=["\u603b\u89c8","\u9898\u76ee"];return!0===(null===r||void 0===r?void 0:r.isAdmin)&&x.push("\u8bc4\u9605","\u63d0\u4ea4\u5217\u8868","\u699c\u5355"),Object(d.useEffect)((function(){null!==n.match(/\/problemSet\/[0-9]*\/?$/g)&&e.history.replace(m[0].link),m.map((function(e){null!==n.match(e.re)&&v(e.name)}))}),[n]),Object(h.jsx)(h.Fragment,{children:void 0!==r&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(o.a,{style:{marginTop:25},extra:Object(h.jsx)("div",{style:{marginTop:12}}),title:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(c.b,{to:j.g+"/group/".concat(r.groupId),children:Object(h.jsx)(a.a,{size:"small",icon:Object(h.jsx)(p.a,{}),children:" \u8fd4\u56de "})})}),children:[1===r.config.useSameSE&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{style:{textAlign:"center"},children:Object(h.jsx)("span",{style:{fontWeight:"bold",fontSize:"1.45rem"},children:Object(h.jsx)("span",{style:{paddingRight:10},children:r.name})})})}),!Object(l.c)(r.description)&&!Object(l.c)(r.description.trim())&&Object(h.jsx)(u.a,{id:"problemSet-markdownDescription",text:r.description.trim()})]}),Object(h.jsx)(s.a,{block:!0,options:x,value:g,onChange:function(t){m.map((function(n){n.name===t&&e.history.push(n.link)}))}})]})})})))),g=n(330),v=n(1292),x=n(1071),S=n(1415);t.default=Object(m.b)((function(e){var t,n,i=e.ContestReducer,r=e.UserReducer;return{minWidth:i.minWidth,realName:null===(t=r.userInfo)||void 0===t?void 0:t.nickname,sduId:null===(n=r.userInfo)||void 0===n?void 0:n.username}}),(function(e){return{}}))(Object(f.a)()(Object(r.e)((function(e){var t,n=500,c=Object(d.useState)(null===(t=document.querySelector("body"))||void 0===t?void 0:t.clientWidth),o=Object(i.a)(c,2),a=o[0],s=o[1];Object(d.useEffect)((function(){return window.addEventListener("resize",u),function(){window.removeEventListener("resize",u)}}));var l,u=function(e){s(e.target.innerWidth)};null!==e.location.pathname.match(/\/problemSet\/.*\/rank/g)&&(n=Math.max(500,(null!==(l=e.minWidth)&&void 0!==l?l:0)+100));var b=Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{}),Object(h.jsx)(d.Suspense,{fallback:Object(h.jsx)(g.a,{}),children:v.d.map((function(e){var t=e.id,n=e.path,i=e.exact,c=e.component;return Object(h.jsx)(r.a,{path:n,exact:i,component:c},t)}))})]});return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(x.a,{}),Object(h.jsx)("div",{style:n<=1500?{textAlign:"center",margin:"0 auto"}:void 0,children:Object(h.jsx)("div",{style:n<=1500?{textAlign:"left",maxWidth:"1500px",margin:"0 auto"}:{textAlign:"left",maxWidth:"1500px",marginLeft:Math.max(0,(a-n)/2)},children:Object(h.jsx)(S.a,{rotate:-25,gapX:200,gapY:200,offsetLeft:20,content:e.realName+" "+e.sduId,fontColor:"rgba(212, 212, 212, 0.5)",fontSize:18,zIndex:500,children:b})})})]})}))))}}]);
//# sourceMappingURL=54.3251e709.chunk.js.map