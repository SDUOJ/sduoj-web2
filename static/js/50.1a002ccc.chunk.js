(this.webpackJsonpsduoj=this.webpackJsonpsduoj||[]).push([[50],{1248:function(e,t,n){"use strict";var i=n(88),c=n(76),r=n(127),a=n(0);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=Object(c.d)((function(t){return t.ProblemSetReducer.problemSetInfo[e]})),o=Object(c.d)((function(t){return t.ProblemSetReducer.problemSetInfo[e+"-cache"]})),s=Object(c.c)(),l=Object(a.useState)(),d=Object(i.a)(l,2),u=d[0],j=d[1],b=Object(a.useState)(),m=Object(i.a)(b,2),v=m[0],f=m[1];return Object(a.useEffect)((function(){u!==e?(void 0===o&&void 0===n?(s({type:"setProblemSetInfo",key:e+"-cache",data:!0}),r.a.getProblemSetInfo({psid:parseInt(e)}).then((function(t){s({type:"setProblemSetInfo",key:e,data:t}),s({type:"setProblemSetInfo",key:e+"-cache",data:void 0}),f(t)})).catch((function(e){t&&t(e)}))):f(n),j(e)):f(n)}),[n,e]),v}},1283:function(e,t,n){"use strict";var i=n(66);t.a=function(e){return Object(i.c)(e)?0:e.toString().length>6?e.toFixed(2):e}},1319:function(e,t,n){"use strict";var i=n(88),c=n(0),r=n(253),a=n(6);t.a=function(e){var t=Object(c.useState)(Date.now()),n=Object(i.a)(t,2),o=n[0],s=n[1];return Object(c.useEffect)((function(){var e=setInterval((function(){s(Date.now())}),1e3);return function(){return clearInterval(e)}})),Object(a.jsxs)(a.Fragment,{children:["before"===e.type&&Object(r.a)(e.time,o),"after"===e.type&&Object(r.a)(o,e.time)]})}},1398:function(e,t,n){"use strict";n.r(t);var i=n(31),c=n(88),r=n(421),a=n(41),o=n(978),s=n(983),l=n(974),d=n(981),u=n(982),j=n(62),b=n(984),m=n(1439),v=n(0),f=n(76),O=n(99),h=(n(1399),n(253)),p=n(1319),g=n(1200),x=n.n(g),y=n(1248),S=n(66),I=n(1283),_=n(36),k=n(103),w=n(6),T=function(e){var t=Object(v.useState)(Date.now()),n=Object(c.a)(t,2),i=n[0],r=n[1];Object(v.useEffect)((function(){var e=setInterval((function(){r(Date.now())}),1e3);return function(){return clearInterval(e)}}));var a=Object(h.b)(e.start,e.end);return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(b.a,{bordered:e.bordered,children:[Object(w.jsxs)("div",{className:"center",children:[Object(w.jsxs)("div",{style:{float:"left"},children:[Object(w.jsx)("div",{style:{fontWeight:"bold"},children:"\u5f00\u59cb\u65f6\u95f4\uff1a"}),Object(h.e)(e.start)]}),Object(w.jsxs)("span",{children:["wait"===a&&Object(w.jsx)("span",{style:{color:"blue"},children:Object(w.jsxs)(l.b,{children:["\u8ddd\u79bb\u5f00\u59cb\u8fd8\u6709\uff1a",Object(w.jsx)(x.a,{className:"contestHeaderTimer",value:e.start,format:"H \u65f6 m \u5206 s \u79d2"})]})}),"running"===a&&Object(w.jsx)("span",{style:{color:"red"},children:"\u8fdb\u884c\u4e2d"}),"end"===a&&Object(w.jsx)("span",{style:{color:"green"},children:"\u5df2\u7ed3\u675f"})]}),Object(w.jsxs)("div",{style:{float:"right"},children:[Object(w.jsx)("div",{style:{fontWeight:"bold"},children:"\u7ed3\u675f\u65f6\u95f4\uff1a"}),Object(h.e)(e.end)]})]}),"wait"!==a&&Object(w.jsx)(m.a,{style:{marginTop:50},tipFormatter:null,min:e.start,max:e.end,value:Math.max(Math.min(i,e.end),e.start),marks:0===e.timeSetting.length?void 0:function(){for(var t={},n=0;n<e.timeSetting.length;n++){var i=e.timeSetting[n];t[i.tm_end]=(100*i.weight).toString()+"%"}return t}()}),Object(w.jsx)("div",{style:{marginTop:15},className:"center",children:Object(w.jsxs)(d.a,{children:[Object(w.jsx)(u.a,{span:8,children:"running"===a&&Object(w.jsxs)("span",{style:{float:"left"},children:[Object(w.jsx)("span",{style:{fontWeight:"bold"},children:"\u5f53\u524d\u6298\u6263\uff1a"}),function(){for(var t=0;t<e.timeSetting.length;t++){var n=e.timeSetting[t];if(n.tm_start<=Date.now()&&Date.now()<=n.tm_end)return(100*n.weight).toString()+"%"}}()]})}),Object(w.jsx)(u.a,{span:8}),Object(w.jsx)(u.a,{span:8,children:"running"===a&&Object(w.jsxs)("span",{style:{float:"right"},children:[Object(w.jsx)("span",{style:{fontWeight:"bold"},children:"\u6298\u6263\u5269\u4f59\uff1a"}),function(){for(var t=0;t<e.timeSetting.length;t++){var n=e.timeSetting[t];if(n.tm_start<=Date.now()&&Date.now()<=n.tm_end)return Object(w.jsx)(p.a,{type:"after",time:n.tm_end})}}()]})})]})})]})})};t.default=Object(f.b)((function(e){var t,n=e.ProblemSetReducer,i=e.UserReducer;return{problemSetInfo:n.problemSetInfo,roles:null===(t=i.userInfo)||void 0===t?void 0:t.roles}}),(function(e){return{}}))(Object(r.a)()(Object(a.e)((function(e){var t=e.match.params.problemSetId,n=Object(y.a)(t),r=Object(v.useState)(),a=Object(c.a)(r,2),b=a[0],m=a[1],f=Object(v.useState)(!1),p=Object(c.a)(f,2),g=p[0],x=p[1];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(o.a,{visible:g,footer:!1,onOk:function(){return x(!1)},onCancel:function(){return x(!1)},children:Object(w.jsx)(s.a,{size:"small",columns:[{dataIndex:"key"},{dataIndex:"value"}],showHeader:!1,pagination:!1,dataSource:function(){var e=function(e){return Object(S.c)(e)?"\u672a\u63d0\u4ea4":Object(h.e)(e)};if(2!==(null===b||void 0===b?void 0:b.proType))return[{key:"\u5f97\u5206",value:null===b||void 0===b?void 0:b.score},{key:"\u5206\u503c",value:null===b||void 0===b?void 0:b.point},{key:"\u6743\u91cd",value:null===b||void 0===b?void 0:b.weight},{key:"\u63d0\u4ea4\u65f6\u95f4",value:e(null===b||void 0===b?void 0:b.submit_time)}];var t=[{key:"\u9650\u65f6\u63d0\u4ea4",value:null===b||void 0===b?void 0:b.e_id},{key:"\u9650\u65f6\u6743\u91cd",value:null===b||void 0===b?void 0:b.e_weight},{key:"\u9650\u65f6\u63d0\u4ea4\u65f6\u95f4",value:e(null===b||void 0===b?void 0:b.e_submit_time)}],n=[{key:"\u8865\u9898\u63d0\u4ea4",value:null===b||void 0===b?void 0:b.p_id},{key:"\u8865\u9898\u6743\u91cd",value:null===b||void 0===b?void 0:b.p_weight},{key:"\u8865\u9898\u63d0\u4ea4\u65f6\u95f4",value:e(null===b||void 0===b?void 0:b.p_submit_time)}],i=[{key:"\u5f97\u5206",value:null===b||void 0===b?void 0:b.score},{key:"\u5206\u503c",value:null===b||void 0===b?void 0:b.point}];return i="sameTimeAndPractice"===(null===b||void 0===b?void 0:b.type)?(i=i.concat(t)).concat(n):"sameTime"===(null===b||void 0===b?void 0:b.type)?i.concat(t):i.concat(n)}()})}),void 0!==n&&Object(w.jsxs)(w.Fragment,{children:[function(){if(1===n.config.useSameSE){if("end"===Object(h.b)(n.tm_start,n.tm_end)&&1===n.config.usePractice){var e=n.config.practiceTimeSetting,t=e[0].tm_start,i=e[e.length-1].tm_end;return Object(w.jsx)("div",{style:{marginTop:24},children:Object(w.jsx)(T,{start:parseInt(t),end:parseInt(i),timeSetting:e,bordered:!1})})}return Object(w.jsx)("div",{style:{marginTop:24},children:Object(w.jsx)(T,{start:parseInt(n.tm_start),end:parseInt(n.tm_end),timeSetting:[{tm_start:n.tm_start,tm_end:n.tm_end,weight:1}],bordered:!1})})}}(),n.groupInfo.map((function(c){var r,a;null!==c.timeSetting&&(r=c.timeSetting[0].tm_start,a=c.timeSetting[c.timeSetting.length-1].tm_end);var o=[];return 2===c.type&&o.push({key:"Result",title:"\u8bc4\u6d4b\u7ed3\u679c",width:"auto",render:function(e,t){return Object(w.jsxs)(l.b,{size:24,children:[t.e_status&&Object(w.jsxs)(l.b,{size:0,children:["\u9650\u65f6\uff1a",Object(w.jsx)(k.a,{type:"text",caseType:_.b.indexOf(_.c[t.e_status])})]}),t.p_status&&Object(w.jsxs)(l.b,{size:0,children:["\u8865\u9898\uff1a",Object(w.jsx)(k.a,{type:"text",caseType:_.b.indexOf(_.c[t.p_status])})]})]})}}),Object(w.jsxs)(d.a,{gutter:24,children:[Object(w.jsx)(u.a,{span:1===n.config.useSameSE?24:16,children:Object(w.jsx)(s.a,{className:"problemSet-overview-table",size:"small",title:function(){return 0===n.config.showScoreInRunning?Object(w.jsxs)(w.Fragment,{children:["\u9898\u7ec4",c.index+1," ",c.name]}):Object(w.jsxs)(w.Fragment,{children:["\u9898\u7ec4",c.index+1," ",c.name," ","(".concat(Object(I.a)(c.point),"\u5206)")]})},dataSource:c.problemInfo,pagination:!1,columns:[{key:"ID",title:"ID",dataIndex:"index",width:"auto",render:function(n,i,r){return Object(w.jsxs)(j.a,{type:"text",size:"small",onClick:function(){e.history.push(O.g+"/problemSet/".concat(t,"/problem/").concat(c.index,"/").concat(r))},children:[r+1," ",i.name?"(".concat(i.name,")"):""]})}},{key:"State",title:e.t("Status"),dataIndex:"hasAnswer",width:"auto",render:function(e,t){return 1===c.type?e?!1===t.hasJudge&&null===t.judgeLock?"\u5df2\u63d0\u4ea4 - \u672a\u6279\u9605":!1===t.hasJudge&&null!==t.judgeLock?"\u5df2\u63d0\u4ea4 - \u6b63\u5728\u6279\u9605":!0===t.hasJudge?"\u5df2\u63d0\u4ea4 - \u5df2\u6279\u9605":"\u5df2\u63d0\u4ea4":"\u672a\u63d0\u4ea4":e?"\u5df2\u63d0\u4ea4":"\u672a\u63d0\u4ea4"}}].concat(o,[{key:"Point",title:"\u5206\u6570\u4e0e\u8be6\u60c5",width:"auto",dataIndex:"point",render:function(e,t){return 0===n.config.showScoreInRunning?"-":void 0===t.score?Object(w.jsxs)("span",{children:[" ","-/".concat(e.toFixed(2)),"  "]}):Object(w.jsx)("span",{children:Object(w.jsx)(j.a,{type:"link",onClick:function(){m(Object(i.a)(Object(i.a)({},t),{},{proType:c.type})),x(!0)},children:"".concat(Object(I.a)(t.score),"/").concat(Object(I.a)(e))})})}}])})}),0===n.config.useSameSE&&Object(w.jsx)(u.a,{span:8,children:Object(w.jsx)(T,{start:parseInt(r),end:parseInt(a),timeSetting:[],bordered:!0})})]})}))]})]})}))))},1399:function(e,t,n){}}]);
//# sourceMappingURL=50.1a002ccc.chunk.js.map